"use strict";var ql=Object.create;var Xr=Object.defineProperty;var zl=Object.getOwnPropertyDescriptor;var $l=Object.getOwnPropertyNames;var Vl=Object.getPrototypeOf,Ul=Object.prototype.hasOwnProperty;var rr=(r,e)=>()=>(r&&(e=r(r=0)),e);var en=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),aa=(r,e)=>{for(var n in e)Xr(r,n,{get:e[n],enumerable:!0})},oa=(r,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of $l(e))!Ul.call(r,a)&&a!==n&&Xr(r,a,{get:()=>e[a],enumerable:!(i=zl(e,a))||i.enumerable});return r};var Le=(r,e,n)=>(n=r!=null?ql(Vl(r)):{},oa(e||!r||!r.__esModule?Xr(n,"default",{value:r,enumerable:!0}):n,r)),Hl=r=>oa(Xr({},"__esModule",{value:!0}),r);var Ao=en(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});var Be=class extends Error{},ps=class extends Be{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},bs=class extends Be{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},gs=class extends Be{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},lt=class extends Be{},un=class extends Be{constructor(e){super(`Invalid unit ${e}`)}},X=class extends Be{},ke=class extends Be{constructor(){super("Zone is an abstract class")}},_="numeric",Ee="short",ie="long",Ss={year:_,month:_,day:_},Ia={year:_,month:Ee,day:_},jl={year:_,month:Ee,day:_,weekday:Ee},Ma={year:_,month:ie,day:_},Fa={year:_,month:ie,day:_,weekday:ie},Na={hour:_,minute:_},La={hour:_,minute:_,second:_},Wa={hour:_,minute:_,second:_,timeZoneName:Ee},Ba={hour:_,minute:_,second:_,timeZoneName:ie},xa={hour:_,minute:_,hourCycle:"h23"},qa={hour:_,minute:_,second:_,hourCycle:"h23"},za={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:Ee},$a={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:ie},Va={year:_,month:_,day:_,hour:_,minute:_},Ua={year:_,month:_,day:_,hour:_,minute:_,second:_},Ha={year:_,month:Ee,day:_,hour:_,minute:_},ja={year:_,month:Ee,day:_,hour:_,minute:_,second:_},Zl={year:_,month:Ee,day:_,weekday:Ee,hour:_,minute:_},Za={year:_,month:ie,day:_,hour:_,minute:_,timeZoneName:Ee},Ya={year:_,month:ie,day:_,hour:_,minute:_,second:_,timeZoneName:Ee},Ga={year:_,month:ie,day:_,weekday:ie,hour:_,minute:_,timeZoneName:ie},Qa={year:_,month:ie,day:_,weekday:ie,hour:_,minute:_,second:_,timeZoneName:ie};function I(r){return typeof r>"u"}function ft(r){return typeof r=="number"}function mn(r){return typeof r=="number"&&r%1===0}function Yl(r){return typeof r=="string"}function Gl(r){return Object.prototype.toString.call(r)==="[object Date]"}function Ja(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ql(r){return Array.isArray(r)?r:[r]}function ua(r,e,n){if(r.length!==0)return r.reduce((i,a)=>{let u=[e(a),a];return i&&n(i[0],u[0])===i[0]?i:u},null)[1]}function Jl(r,e){return e.reduce((n,i)=>(n[i]=r[i],n),{})}function It(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function We(r,e,n){return mn(r)&&r>=e&&r<=n}function Kl(r,e){return r-e*Math.floor(r/e)}function U(r,e=2){let n=r<0,i;return n?i="-"+(""+-r).padStart(e,"0"):i=(""+r).padStart(e,"0"),i}function Qe(r){if(!(I(r)||r===null||r===""))return parseInt(r,10)}function at(r){if(!(I(r)||r===null||r===""))return parseFloat(r)}function As(r){if(!(I(r)||r===null||r==="")){let e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Ds(r,e,n=!1){let i=10**e;return(n?Math.trunc:Math.round)(r*i)/i}function cr(r){return r%4===0&&(r%100!==0||r%400===0)}function ur(r){return cr(r)?366:365}function ln(r,e){let n=Kl(e-1,12)+1,i=r+(e-n)/12;return n===2?cr(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ps(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function cn(r){let e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,n=r-1,i=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||i===3?53:52}function ws(r){return r>99?r:r>60?1900+r:2e3+r}function Ka(r,e,n,i=null){let a=new Date(r),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(u.timeZone=i);let l={timeZoneName:e,...u},f=new Intl.DateTimeFormat(n,l).formatToParts(a).find(d=>d.type.toLowerCase()==="timezonename");return f?f.value:null}function yn(r,e){let n=parseInt(r,10);Number.isNaN(n)&&(n=0);let i=parseInt(e,10)||0,a=n<0||Object.is(n,-0)?-i:i;return n*60+a}function Xa(r){let e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new X(`Invalid unit value ${r}`);return e}function fn(r,e){let n={};for(let i in r)if(It(r,i)){let a=r[i];if(a==null)continue;n[e(i)]=Xa(a)}return n}function lr(r,e){let n=Math.trunc(Math.abs(r/60)),i=Math.trunc(Math.abs(r%60)),a=r>=0?"+":"-";switch(e){case"short":return`${a}${U(n,2)}:${U(i,2)}`;case"narrow":return`${a}${n}${i>0?`:${i}`:""}`;case"techie":return`${a}${U(n,2)}${U(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function pn(r){return Jl(r,["hour","minute","second","millisecond"])}var eo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Xl=["January","February","March","April","May","June","July","August","September","October","November","December"],to=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ec=["J","F","M","A","M","J","J","A","S","O","N","D"];function ro(r){switch(r){case"narrow":return[...ec];case"short":return[...to];case"long":return[...Xl];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var no=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],so=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tc=["M","T","W","T","F","S","S"];function io(r){switch(r){case"narrow":return[...tc];case"short":return[...so];case"long":return[...no];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var ao=["AM","PM"],rc=["Before Christ","Anno Domini"],nc=["BC","AD"],sc=["B","A"];function oo(r){switch(r){case"narrow":return[...sc];case"short":return[...nc];case"long":return[...rc];default:return null}}function ic(r){return ao[r.hour<12?0:1]}function ac(r,e){return io(e)[r.weekday-1]}function oc(r,e){return ro(e)[r.month-1]}function uc(r,e){return oo(e)[r.year<0?0:1]}function lc(r,e,n="always",i=!1){let a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(r)===-1;if(n==="auto"&&u){let T=r==="days";switch(e){case 1:return T?"tomorrow":`next ${a[r][0]}`;case-1:return T?"yesterday":`last ${a[r][0]}`;case 0:return T?"today":`this ${a[r][0]}`}}let l=Object.is(e,-0)||e<0,f=Math.abs(e),d=f===1,m=a[r],S=i?d?m[1]:m[2]||m[1]:d?a[r][0]:r;return l?`${f} ${S} ago`:`in ${f} ${S}`}function la(r,e){let n="";for(let i of r)i.literal?n+=i.val:n+=e(i.val);return n}var cc={D:Ss,DD:Ia,DDD:Ma,DDDD:Fa,t:Na,tt:La,ttt:Wa,tttt:Ba,T:xa,TT:qa,TTT:za,TTTT:$a,f:Va,ff:Ha,fff:Za,ffff:Ga,F:Ua,FF:ja,FFF:Ya,FFFF:Qa},Re=class r{static create(e,n={}){return new r(e,n)}static parseFormat(e){let n=null,i="",a=!1,u=[];for(let l=0;l<e.length;l++){let f=e.charAt(l);f==="'"?(i.length>0&&u.push({literal:a,val:i}),n=null,i="",a=!a):a||f===n?i+=f:(i.length>0&&u.push({literal:!1,val:i}),i=f,n=f)}return i.length>0&&u.push({literal:a,val:i}),u}static macroTokenToFormatOpts(e){return cc[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return U(e,n);let i={...this.opts};return n>0&&(i.padTo=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,n){let i=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(y,g)=>this.loc.extract(e,y,g),l=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",f=()=>i?ic(e):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(y,g)=>i?oc(e,y):u(g?{month:y}:{month:y,day:"numeric"},"month"),m=(y,g)=>i?ac(e,y):u(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),S=y=>{let g=r.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},T=y=>i?uc(e,y):u({era:y},"era"),w=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return f();case"d":return a?u({day:"numeric"},"day"):this.num(e.day);case"dd":return a?u({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return a?u({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?u({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return a?u({month:"numeric"},"month"):this.num(e.month);case"MM":return a?u({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return a?u({year:"numeric"},"year"):this.num(e.year);case"yy":return a?u({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?u({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?u({year:"numeric"},"year"):this.num(e.year,6);case"G":return T("short");case"GG":return T("long");case"GGGGG":return T("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return S(y)}};return la(r.parseFormat(n),w)}formatDurationFromString(e,n){let i=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=d=>m=>{let S=i(m);return S?this.num(d.get(S),m.length):m},u=r.parseFormat(n),l=u.reduce((d,{literal:m,val:S})=>m?d:d.concat(S),[]),f=e.shiftTo(...l.map(i).filter(d=>d));return la(u,a(f))}},se=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},Ke=class{get type(){throw new ke}get name(){throw new ke}get ianaName(){return this.name}get isUniversal(){throw new ke}offsetName(e,n){throw new ke}formatOffset(e,n){throw new ke}offset(e){throw new ke}equals(e){throw new ke}get isValid(){throw new ke}},us=null,dn=class r extends Ke{static get instance(){return us===null&&(us=new r),us}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return Ka(e,n,i)}formatOffset(e,n){return lr(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},an={};function fc(r){return an[r]||(an[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),an[r]}var dc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hc(r,e){let n=r.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,a,u,l,f,d,m,S]=i;return[l,a,u,f,d,m,S]}function mc(r,e){let n=r.formatToParts(e),i=[];for(let a=0;a<n.length;a++){let{type:u,value:l}=n[a],f=dc[u];u==="era"?i[f]=l:I(f)||(i[f]=parseInt(l,10))}return i}var tn={},xe=class r extends Ke{static create(e){return tn[e]||(tn[e]=new r(e)),tn[e]}static resetCache(){tn={},an={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=r.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return Ka(e,n,i,this.name)}formatOffset(e,n){return lr(this.offset(e),n)}offset(e){let n=new Date(e);if(isNaN(n))return NaN;let i=fc(this.name),[a,u,l,f,d,m,S]=i.formatToParts?mc(i,n):hc(i,n);f==="BC"&&(a=-Math.abs(a)+1);let w=Ps({year:a,month:u,day:l,hour:d===24?0:d,minute:m,second:S,millisecond:0}),y=+n,g=y%1e3;return y-=g>=0?g:1e3+g,(w-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},ls=null,ae=class r extends Ke{static get utcInstance(){return ls===null&&(ls=new r(0)),ls}static instance(e){return e===0?r.utcInstance:new r(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new r(yn(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${lr(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${lr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return lr(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},hn=class extends Ke{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Je(r,e){if(I(r)||r===null)return e;if(r instanceof Ke)return r;if(Yl(r)){let n=r.toLowerCase();return n==="local"||n==="system"?e:n==="utc"||n==="gmt"?ae.utcInstance:ae.parseSpecifier(n)||xe.create(r)}else return ft(r)?ae.instance(r):typeof r=="object"&&r.offset&&typeof r.offset=="number"?r:new hn(r)}var ca=()=>Date.now(),fa="system",da=null,ha=null,ma=null,ya,z=class{static get now(){return ca}static set now(e){ca=e}static set defaultZone(e){fa=e}static get defaultZone(){return Je(fa,dn.instance)}static get defaultLocale(){return da}static set defaultLocale(e){da=e}static get defaultNumberingSystem(){return ha}static set defaultNumberingSystem(e){ha=e}static get defaultOutputCalendar(){return ma}static set defaultOutputCalendar(e){ma=e}static get throwOnInvalid(){return ya}static set throwOnInvalid(e){ya=e}static resetCaches(){H.resetCache(),xe.resetCache()}},pa={};function yc(r,e={}){let n=JSON.stringify([r,e]),i=pa[n];return i||(i=new Intl.ListFormat(r,e),pa[n]=i),i}var _s={};function Ts(r,e={}){let n=JSON.stringify([r,e]),i=_s[n];return i||(i=new Intl.DateTimeFormat(r,e),_s[n]=i),i}var Rs={};function pc(r,e={}){let n=JSON.stringify([r,e]),i=Rs[n];return i||(i=new Intl.NumberFormat(r,e),Rs[n]=i),i}var Es={};function bc(r,e={}){let{base:n,...i}=e,a=JSON.stringify([r,i]),u=Es[a];return u||(u=new Intl.RelativeTimeFormat(r,e),Es[a]=u),u}var or=null;function gc(){return or||(or=new Intl.DateTimeFormat().resolvedOptions().locale,or)}function Sc(r){let e=r.indexOf("-u-");if(e===-1)return[r];{let n,i=r.substring(0,e);try{n=Ts(r).resolvedOptions()}catch{n=Ts(i).resolvedOptions()}let{numberingSystem:a,calendar:u}=n;return[i,a,u]}}function wc(r,e,n){return(n||e)&&(r+="-u",n&&(r+=`-ca-${n}`),e&&(r+=`-nu-${e}`)),r}function _c(r){let e=[];for(let n=1;n<=12;n++){let i=$.utc(2016,n,1);e.push(r(i))}return e}function Tc(r){let e=[];for(let n=1;n<=7;n++){let i=$.utc(2016,11,13+n);e.push(r(i))}return e}function rn(r,e,n,i,a){let u=r.listingMode(n);return u==="error"?null:u==="en"?i(e):a(e)}function Rc(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var Cs=class{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let{padTo:a,floor:u,...l}=i;if(!n||Object.keys(l).length>0){let f={useGrouping:!1,...i};i.padTo>0&&(f.minimumIntegerDigits=i.padTo),this.inf=pc(e,f)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):Ds(e,3);return U(n,this.padTo)}}},vs=class{constructor(e,n,i){this.opts=i;let a;if(e.zone.isUniversal){let l=-1*(e.offset/60),f=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&xe.create(f).valid?(a=f,this.dt=e):(a="UTC",i.timeZoneName?this.dt=e:this.dt=e.offset===0?e:$.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,a=e.zone.name);let u={...this.opts};a&&(u.timeZone=a),this.dtf=Ts(n,u)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Os=class{constructor(e,n,i){this.opts={style:"long",...i},!n&&Ja()&&(this.rtf=bc(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):lc(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},H=class r{static fromOpts(e){return r.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,i,a=!1){let u=e||z.defaultLocale,l=u||(a?"en-US":gc()),f=n||z.defaultNumberingSystem,d=i||z.defaultOutputCalendar;return new r(l,f,d,u)}static resetCache(){or=null,_s={},Rs={},Es={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:i}={}){return r.create(e,n,i)}constructor(e,n,i,a){let[u,l,f]=Sc(e);this.locale=u,this.numberingSystem=n||l||null,this.outputCalendar=i||f||null,this.intl=wc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Rc(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:r.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,i=!0){return rn(this,e,i,ro,()=>{let a=n?{month:e,day:"numeric"}:{month:e},u=n?"format":"standalone";return this.monthsCache[u][e]||(this.monthsCache[u][e]=_c(l=>this.extract(l,a,"month"))),this.monthsCache[u][e]})}weekdays(e,n=!1,i=!0){return rn(this,e,i,io,()=>{let a=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},u=n?"format":"standalone";return this.weekdaysCache[u][e]||(this.weekdaysCache[u][e]=Tc(l=>this.extract(l,a,"weekday"))),this.weekdaysCache[u][e]})}meridiems(e=!0){return rn(this,void 0,e,()=>ao,()=>{if(!this.meridiemCache){let n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[$.utc(2016,11,13,9),$.utc(2016,11,13,19)].map(i=>this.extract(i,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return rn(this,e,n,oo,()=>{let i={era:e};return this.eraCache[e]||(this.eraCache[e]=[$.utc(-40,1,1),$.utc(2017,1,1)].map(a=>this.extract(a,i,"era"))),this.eraCache[e]})}extract(e,n,i){let a=this.dtFormatter(e,n),u=a.formatToParts(),l=u.find(f=>f.type.toLowerCase()===i);return l?l.value:null}numberFormatter(e={}){return new Cs(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new vs(e,this.intl,n)}relFormatter(e={}){return new Os(this.intl,this.isEnglish(),e)}listFormatter(e={}){return yc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};function Mt(...r){let e=r.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Ft(...r){return e=>r.reduce(([n,i,a],u)=>{let[l,f,d]=u(e,a);return[{...n,...l},f||i,d]},[{},null,1]).slice(0,2)}function Nt(r,...e){if(r==null)return[null,null];for(let[n,i]of e){let a=n.exec(r);if(a)return i(a)}return[null,null]}function uo(...r){return(e,n)=>{let i={},a;for(a=0;a<r.length;a++)i[r[a]]=Qe(e[n+a]);return[i,null,n+a]}}var lo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ec=`(?:${lo.source}?(?:\\[(${eo.source})\\])?)?`,Is=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,co=RegExp(`${Is.source}${Ec}`),Ms=RegExp(`(?:T${co.source})?`),Cc=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vc=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Oc=/(\d{4})-?(\d{3})/,kc=uo("weekYear","weekNumber","weekDay"),Ac=uo("year","ordinal"),Dc=/(\d{4})-(\d\d)-(\d\d)/,fo=RegExp(`${Is.source} ?(?:${lo.source}|(${eo.source}))?`),Pc=RegExp(`(?: ${fo.source})?`);function Pt(r,e,n){let i=r[e];return I(i)?n:Qe(i)}function Ic(r,e){return[{year:Pt(r,e),month:Pt(r,e+1,1),day:Pt(r,e+2,1)},null,e+3]}function Lt(r,e){return[{hours:Pt(r,e,0),minutes:Pt(r,e+1,0),seconds:Pt(r,e+2,0),milliseconds:As(r[e+3])},null,e+4]}function fr(r,e){let n=!r[e]&&!r[e+1],i=yn(r[e+1],r[e+2]),a=n?null:ae.instance(i);return[{},a,e+3]}function dr(r,e){let n=r[e]?xe.create(r[e]):null;return[{},n,e+1]}var Mc=RegExp(`^T?${Is.source}$`),Fc=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Nc(r){let[e,n,i,a,u,l,f,d,m]=r,S=e[0]==="-",T=d&&d[0]==="-",w=(y,g=!1)=>y!==void 0&&(g||y&&S)?-y:y;return[{years:w(at(n)),months:w(at(i)),weeks:w(at(a)),days:w(at(u)),hours:w(at(l)),minutes:w(at(f)),seconds:w(at(d),d==="-0"),milliseconds:w(As(m),T)}]}var Lc={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Fs(r,e,n,i,a,u,l){let f={year:e.length===2?ws(Qe(e)):Qe(e),month:to.indexOf(n)+1,day:Qe(i),hour:Qe(a),minute:Qe(u)};return l&&(f.second=Qe(l)),r&&(f.weekday=r.length>3?no.indexOf(r)+1:so.indexOf(r)+1),f}var Wc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Bc(r){let[,e,n,i,a,u,l,f,d,m,S,T]=r,w=Fs(e,a,i,n,u,l,f),y;return d?y=Lc[d]:m?y=0:y=yn(S,T),[w,new ae(y)]}function xc(r){return r.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var qc=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,zc=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$c=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ba(r){let[,e,n,i,a,u,l,f]=r;return[Fs(e,a,i,n,u,l,f),ae.utcInstance]}function Vc(r){let[,e,n,i,a,u,l,f]=r;return[Fs(e,f,n,i,a,u,l),ae.utcInstance]}var Uc=Mt(Cc,Ms),Hc=Mt(vc,Ms),jc=Mt(Oc,Ms),Zc=Mt(co),ho=Ft(Ic,Lt,fr,dr),Yc=Ft(kc,Lt,fr,dr),Gc=Ft(Ac,Lt,fr,dr),Qc=Ft(Lt,fr,dr);function Jc(r){return Nt(r,[Uc,ho],[Hc,Yc],[jc,Gc],[Zc,Qc])}function Kc(r){return Nt(xc(r),[Wc,Bc])}function Xc(r){return Nt(r,[qc,ba],[zc,ba],[$c,Vc])}function ef(r){return Nt(r,[Fc,Nc])}var tf=Ft(Lt);function rf(r){return Nt(r,[Mc,tf])}var nf=Mt(Dc,Pc),sf=Mt(fo),af=Ft(Lt,fr,dr);function of(r){return Nt(r,[nf,ho],[sf,af])}var uf="Invalid Duration",mo={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},lf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...mo},he=146097/400,Dt=146097/4800,cf={years:{quarters:4,months:12,weeks:he/7,days:he,hours:he*24,minutes:he*24*60,seconds:he*24*60*60,milliseconds:he*24*60*60*1e3},quarters:{months:3,weeks:he/28,days:he/4,hours:he*24/4,minutes:he*24*60/4,seconds:he*24*60*60/4,milliseconds:he*24*60*60*1e3/4},months:{weeks:Dt/7,days:Dt,hours:Dt*24,minutes:Dt*24*60,seconds:Dt*24*60*60,milliseconds:Dt*24*60*60*1e3},...mo},ut=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ff=ut.slice(0).reverse();function ot(r,e,n=!1){let i={values:n?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy};return new Y(i)}function df(r){return r<0?Math.floor(r):Math.ceil(r)}function yo(r,e,n,i,a){let u=r[a][n],l=e[n]/u,f=Math.sign(l)===Math.sign(i[a]),d=!f&&i[a]!==0&&Math.abs(l)<=1?df(l):Math.trunc(l);i[a]+=d,e[n]-=d*u}function hf(r,e){ff.reduce((n,i)=>I(e[i])?n:(n&&yo(r,e,n,e,i),i),null)}var Y=class r{constructor(e){let n=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||H.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n?cf:lf,this.isLuxonDuration=!0}static fromMillis(e,n){return r.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new X(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new r({values:fn(e,r.normalizeUnit),loc:H.fromObject(n),conversionAccuracy:n.conversionAccuracy})}static fromDurationLike(e){if(ft(e))return r.fromMillis(e);if(r.isDuration(e))return e;if(typeof e=="object")return r.fromObject(e);throw new X(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[i]=ef(e);return i?r.fromObject(i,n):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[i]=rf(e);return i?r.fromObject(i,n):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new X("need to specify a reason the Duration is invalid");let i=e instanceof se?e:new se(e,n);if(z.throwOnInvalid)throw new gs(i);return new r({invalid:i})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new un(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Re.create(this.loc,i).formatDurationFromString(this,e):uf}toHuman(e={}){let n=ut.map(i=>{let a=this.values[i];return I(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(a)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Ds(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let i=this.shiftTo("hours","minutes","seconds","milliseconds"),a=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(a+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||i.milliseconds!==0)&&(a+=".SSS"));let u=i.toFormat(a);return e.includePrefix&&(u="T"+u),u}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=r.fromDurationLike(e),i={};for(let a of ut)(It(n.values,a)||It(this.values,a))&&(i[a]=n.get(a)+this.get(a));return ot(this,{values:i},!0)}minus(e){if(!this.isValid)return this;let n=r.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let i of Object.keys(this.values))n[i]=Xa(e(this.values[i],i));return ot(this,{values:n},!0)}get(e){return this[r.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n={...this.values,...fn(e,r.normalizeUnit)};return ot(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i}={}){let a=this.loc.clone({locale:e,numberingSystem:n}),u={loc:a};return i&&(u.conversionAccuracy=i),ot(this,u)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return hf(this.matrix,e),ot(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>r.normalizeUnit(l));let n={},i={},a=this.toObject(),u;for(let l of ut)if(e.indexOf(l)>=0){u=l;let f=0;for(let m in i)f+=this.matrix[m][l]*i[m],i[m]=0;ft(a[l])&&(f+=a[l]);let d=Math.trunc(f);n[l]=d,i[l]=(f*1e3-d*1e3)/1e3;for(let m in a)ut.indexOf(m)>ut.indexOf(l)&&yo(this.matrix,a,m,n,l)}else ft(a[l])&&(i[l]=a[l]);for(let l in i)i[l]!==0&&(n[u]+=l===u?i[l]:i[l]/this.matrix[u][l]);return ot(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ot(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,a){return i===void 0||i===0?a===void 0||a===0:i===a}for(let i of ut)if(!n(this.values[i],e.values[i]))return!1;return!0}},nr="Invalid Interval";function mf(r,e){return!r||!r.isValid?dt.invalid("missing or invalid start"):!e||!e.isValid?dt.invalid("missing or invalid end"):e<r?dt.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}var dt=class r{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new X("need to specify a reason the Interval is invalid");let i=e instanceof se?e:new se(e,n);if(z.throwOnInvalid)throw new bs(i);return new r({invalid:i})}static fromDateTimes(e,n){let i=ar(e),a=ar(n),u=mf(i,a);return u??new r({start:i,end:a})}static after(e,n){let i=Y.fromDurationLike(n),a=ar(e);return r.fromDateTimes(a,a.plus(i))}static before(e,n){let i=Y.fromDurationLike(n),a=ar(e);return r.fromDateTimes(a.minus(i),a)}static fromISO(e,n){let[i,a]=(e||"").split("/",2);if(i&&a){let u,l;try{u=$.fromISO(i,n),l=u.isValid}catch{l=!1}let f,d;try{f=$.fromISO(a,n),d=f.isValid}catch{d=!1}if(l&&d)return r.fromDateTimes(u,f);if(l){let m=Y.fromISO(a,n);if(m.isValid)return r.after(u,m)}else if(d){let m=Y.fromISO(i,n);if(m.isValid)return r.before(f,m)}}return r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let n=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?r.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map(ar).filter(l=>this.contains(l)).sort(),i=[],{s:a}=this,u=0;for(;a<this.e;){let l=n[u]||this.e,f=+l>+this.e?this.e:l;i.push(r.fromDateTimes(a,f)),a=f,u+=1}return i}splitBy(e){let n=Y.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,a=1,u,l=[];for(;i<this.e;){let f=this.start.plus(n.mapUnits(d=>d*a));u=+f>+this.e?this.e:f,l.push(r.fromDateTimes(i,u)),i=u,a+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:r.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return r.fromDateTimes(n,i)}static merge(e){let[n,i]=e.sort((a,u)=>a.s-u.s).reduce(([a,u],l)=>u?u.overlaps(l)||u.abutsStart(l)?[a,u.union(l)]:[a.concat([u]),l]:[a,l],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0,a=[],u=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...u),f=l.sort((d,m)=>d.time-m.time);for(let d of f)i+=d.type==="s"?1:-1,i===1?n=d.time:(n&&+n!=+d.time&&a.push(r.fromDateTimes(n,d.time)),n=null);return r.merge(a)}difference(...e){return r.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:nr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:nr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:nr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:nr}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:nr}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Y.invalid(this.invalidReason)}mapEndpoints(e){return r.fromDateTimes(e(this.s),e(this.e))}},ct=class{static hasDST(e=z.defaultZone){let n=$.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return xe.isValidZone(e)}static normalizeZone(e){return Je(e,z.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:a=null,outputCalendar:u="gregory"}={}){return(a||H.create(n,i,u)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:a=null,outputCalendar:u="gregory"}={}){return(a||H.create(n,i,u)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:a=null}={}){return(a||H.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:a=null}={}){return(a||H.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return H.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return H.create(n,null,"gregory").eras(e)}static features(){return{relative:Ja()}}};function ga(r,e){let n=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(r);return Math.floor(Y.fromMillis(i).as("days"))}function yf(r,e,n){let i=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{let m=ga(f,d);return(m-m%7)/7}],["days",ga]],a={},u,l;for(let[f,d]of i)if(n.indexOf(f)>=0){u=f;let m=d(r,e);l=r.plus({[f]:m}),l>e?(r=r.plus({[f]:m-1}),m-=1):r=l,a[f]=m}return[r,a,l,u]}function pf(r,e,n,i){let[a,u,l,f]=yf(r,e,n),d=e-a,m=n.filter(T=>["hours","minutes","seconds","milliseconds"].indexOf(T)>=0);m.length===0&&(l<e&&(l=a.plus({[f]:1})),l!==a&&(u[f]=(u[f]||0)+d/(l-a)));let S=Y.fromObject(u,i);return m.length>0?Y.fromMillis(d,i).shiftTo(...m).plus(S):S}var Ns={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Sa={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},bf=Ns.hanidec.replace(/[\[|\]]/g,"").split("");function gf(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(r[n].search(Ns.hanidec)!==-1)e+=bf.indexOf(r[n]);else for(let a in Sa){let[u,l]=Sa[a];i>=u&&i<=l&&(e+=i-u)}}return parseInt(e,10)}else return e}function _e({numberingSystem:r},e=""){return new RegExp(`${Ns[r||"latn"]}${e}`)}var Sf="missing Intl.DateTimeFormat.formatToParts support";function L(r,e=n=>n){return{regex:r,deser:([n])=>e(gf(n))}}var wf="\xA0",po=`[ ${wf}]`,bo=new RegExp(po,"g");function _f(r){return r.replace(/\./g,"\\.?").replace(bo,po)}function wa(r){return r.replace(/\./g,"").replace(bo," ").toLowerCase()}function Te(r,e){return r===null?null:{regex:RegExp(r.map(_f).join("|")),deser:([n])=>r.findIndex(i=>wa(n)===wa(i))+e}}function _a(r,e){return{regex:r,deser:([,n,i])=>yn(n,i),groups:e}}function cs(r){return{regex:r,deser:([e])=>e}}function Tf(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Rf(r,e){let n=_e(e),i=_e(e,"{2}"),a=_e(e,"{3}"),u=_e(e,"{4}"),l=_e(e,"{6}"),f=_e(e,"{1,2}"),d=_e(e,"{1,3}"),m=_e(e,"{1,6}"),S=_e(e,"{1,9}"),T=_e(e,"{2,4}"),w=_e(e,"{4,6}"),y=C=>({regex:RegExp(Tf(C.val)),deser:([O])=>O,literal:!0}),A=(C=>{if(r.literal)return y(C);switch(C.val){case"G":return Te(e.eras("short",!1),0);case"GG":return Te(e.eras("long",!1),0);case"y":return L(m);case"yy":return L(T,ws);case"yyyy":return L(u);case"yyyyy":return L(w);case"yyyyyy":return L(l);case"M":return L(f);case"MM":return L(i);case"MMM":return Te(e.months("short",!0,!1),1);case"MMMM":return Te(e.months("long",!0,!1),1);case"L":return L(f);case"LL":return L(i);case"LLL":return Te(e.months("short",!1,!1),1);case"LLLL":return Te(e.months("long",!1,!1),1);case"d":return L(f);case"dd":return L(i);case"o":return L(d);case"ooo":return L(a);case"HH":return L(i);case"H":return L(f);case"hh":return L(i);case"h":return L(f);case"mm":return L(i);case"m":return L(f);case"q":return L(f);case"qq":return L(i);case"s":return L(f);case"ss":return L(i);case"S":return L(d);case"SSS":return L(a);case"u":return cs(S);case"uu":return cs(f);case"uuu":return L(n);case"a":return Te(e.meridiems(),0);case"kkkk":return L(u);case"kk":return L(T,ws);case"W":return L(f);case"WW":return L(i);case"E":case"c":return L(n);case"EEE":return Te(e.weekdays("short",!1,!1),1);case"EEEE":return Te(e.weekdays("long",!1,!1),1);case"ccc":return Te(e.weekdays("short",!0,!1),1);case"cccc":return Te(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return _a(new RegExp(`([+-]${f.source})(?::(${i.source}))?`),2);case"ZZZ":return _a(new RegExp(`([+-]${f.source})(${i.source})?`),2);case"z":return cs(/[a-z_+-/]{1,256}?/i);default:return y(C)}})(r)||{invalidReason:Sf};return A.token=r,A}var Ef={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Cf(r,e,n){let{type:i,value:a}=r;if(i==="literal")return{literal:!0,val:a};let u=n[i],l=Ef[i];if(typeof l=="object"&&(l=l[u]),l)return{literal:!1,val:l}}function vf(r){return[`^${r.map(n=>n.regex).reduce((n,i)=>`${n}(${i.source})`,"")}$`,r]}function Of(r,e,n){let i=r.match(e);if(i){let a={},u=1;for(let l in n)if(It(n,l)){let f=n[l],d=f.groups?f.groups+1:1;!f.literal&&f.token&&(a[f.token.val[0]]=f.deser(i.slice(u,u+d))),u+=d}return[i,a]}else return[i,{}]}function kf(r){let e=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,i;return I(r.z)||(n=xe.create(r.z)),I(r.Z)||(n||(n=new ae(r.Z)),i=r.Z),I(r.q)||(r.M=(r.q-1)*3+1),I(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),I(r.u)||(r.S=As(r.u)),[Object.keys(r).reduce((u,l)=>{let f=e(l);return f&&(u[f]=r[l]),u},{}),n,i]}var fs=null;function Af(){return fs||(fs=$.fromMillis(1555555555555)),fs}function Df(r,e){if(r.literal)return r;let n=Re.macroTokenToFormatOpts(r.val);if(!n)return r;let u=Re.create(e,n).formatDateTimeParts(Af()).map(l=>Cf(l,e,n));return u.includes(void 0)?r:u}function Pf(r,e){return Array.prototype.concat(...r.map(n=>Df(n,e)))}function go(r,e,n){let i=Pf(Re.parseFormat(n),r),a=i.map(l=>Rf(l,r)),u=a.find(l=>l.invalidReason);if(u)return{input:e,tokens:i,invalidReason:u.invalidReason};{let[l,f]=vf(a),d=RegExp(l,"i"),[m,S]=Of(e,d,f),[T,w,y]=S?kf(S):[null,null,void 0];if(It(S,"a")&&It(S,"H"))throw new lt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:d,rawMatches:m,matches:S,result:T,zone:w,specificOffset:y}}}function If(r,e,n){let{result:i,zone:a,specificOffset:u,invalidReason:l}=go(r,e,n);return[i,a,u,l]}var So=[0,31,59,90,120,151,181,212,243,273,304,334],wo=[0,31,60,91,121,152,182,213,244,274,305,335];function me(r,e){return new se("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function _o(r,e,n){let i=new Date(Date.UTC(r,e-1,n));r<100&&r>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let a=i.getUTCDay();return a===0?7:a}function To(r,e,n){return n+(cr(r)?wo:So)[e-1]}function Ro(r,e){let n=cr(r)?wo:So,i=n.findIndex(u=>u<e),a=e-n[i];return{month:i+1,day:a}}function ks(r){let{year:e,month:n,day:i}=r,a=To(e,n,i),u=_o(e,n,i),l=Math.floor((a-u+10)/7),f;return l<1?(f=e-1,l=cn(f)):l>cn(e)?(f=e+1,l=1):f=e,{weekYear:f,weekNumber:l,weekday:u,...pn(r)}}function Ta(r){let{weekYear:e,weekNumber:n,weekday:i}=r,a=_o(e,1,4),u=ur(e),l=n*7+i-a-3,f;l<1?(f=e-1,l+=ur(f)):l>u?(f=e+1,l-=ur(e)):f=e;let{month:d,day:m}=Ro(f,l);return{year:f,month:d,day:m,...pn(r)}}function ds(r){let{year:e,month:n,day:i}=r,a=To(e,n,i);return{year:e,ordinal:a,...pn(r)}}function Ra(r){let{year:e,ordinal:n}=r,{month:i,day:a}=Ro(e,n);return{year:e,month:i,day:a,...pn(r)}}function Mf(r){let e=mn(r.weekYear),n=We(r.weekNumber,1,cn(r.weekYear)),i=We(r.weekday,1,7);return e?n?i?!1:me("weekday",r.weekday):me("week",r.week):me("weekYear",r.weekYear)}function Ff(r){let e=mn(r.year),n=We(r.ordinal,1,ur(r.year));return e?n?!1:me("ordinal",r.ordinal):me("year",r.year)}function Eo(r){let e=mn(r.year),n=We(r.month,1,12),i=We(r.day,1,ln(r.year,r.month));return e?n?i?!1:me("day",r.day):me("month",r.month):me("year",r.year)}function Co(r){let{hour:e,minute:n,second:i,millisecond:a}=r,u=We(e,0,23)||e===24&&n===0&&i===0&&a===0,l=We(n,0,59),f=We(i,0,59),d=We(a,0,999);return u?l?f?d?!1:me("millisecond",a):me("second",i):me("minute",n):me("hour",e)}var hs="Invalid DateTime",Ea=864e13;function nn(r){return new se("unsupported zone",`the zone "${r.name}" is not supported`)}function ms(r){return r.weekData===null&&(r.weekData=ks(r.c)),r.weekData}function sr(r,e){let n={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new $({...n,...e,old:n})}function vo(r,e,n){let i=r-e*60*1e3,a=n.offset(i);if(e===a)return[i,e];i-=(a-e)*60*1e3;let u=n.offset(i);return a===u?[i,a]:[r-Math.min(a,u)*60*1e3,Math.max(a,u)]}function Ca(r,e){r+=e*60*1e3;let n=new Date(r);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function on(r,e,n){return vo(Ps(r),e,n)}function va(r,e){let n=r.o,i=r.c.year+Math.trunc(e.years),a=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,u={...r.c,year:i,month:a,day:Math.min(r.c.day,ln(i,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=Y.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),f=Ps(u),[d,m]=vo(f,n,r.zone);return l!==0&&(d+=l,m=r.zone.offset(d)),{ts:d,o:m}}function ir(r,e,n,i,a,u){let{setZone:l,zone:f}=n;if(r&&Object.keys(r).length!==0){let d=e||f,m=$.fromObject(r,{...n,zone:d,specificOffset:u});return l?m:m.setZone(f)}else return $.invalid(new se("unparsable",`the input "${a}" can't be parsed as ${i}`))}function sn(r,e,n=!0){return r.isValid?Re.create(H.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(r,e):null}function ys(r,e){let n=r.c.year>9999||r.c.year<0,i="";return n&&r.c.year>=0&&(i+="+"),i+=U(r.c.year,n?6:4),e?(i+="-",i+=U(r.c.month),i+="-",i+=U(r.c.day)):(i+=U(r.c.month),i+=U(r.c.day)),i}function Oa(r,e,n,i,a,u){let l=U(r.c.hour);return e?(l+=":",l+=U(r.c.minute),(r.c.second!==0||!n)&&(l+=":")):l+=U(r.c.minute),(r.c.second!==0||!n)&&(l+=U(r.c.second),(r.c.millisecond!==0||!i)&&(l+=".",l+=U(r.c.millisecond,3))),a&&(r.isOffsetFixed&&r.offset===0&&!u?l+="Z":r.o<0?(l+="-",l+=U(Math.trunc(-r.o/60)),l+=":",l+=U(Math.trunc(-r.o%60))):(l+="+",l+=U(Math.trunc(r.o/60)),l+=":",l+=U(Math.trunc(r.o%60)))),u&&(l+="["+r.zone.ianaName+"]"),l}var Oo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Nf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Lf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ko=["year","month","day","hour","minute","second","millisecond"],Wf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Bf=["year","ordinal","hour","minute","second","millisecond"];function ka(r){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new un(r);return e}function Aa(r,e){let n=Je(e.zone,z.defaultZone),i=H.fromObject(e),a=z.now(),u,l;if(I(r.year))u=a;else{for(let m of ko)I(r[m])&&(r[m]=Oo[m]);let f=Eo(r)||Co(r);if(f)return $.invalid(f);let d=n.offset(a);[u,l]=on(r,d,n)}return new $({ts:u,zone:n,loc:i,o:l})}function Da(r,e,n){let i=I(n.round)?!0:n.round,a=(l,f)=>(l=Ds(l,i||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,f)),u=l=>n.calendary?e.hasSame(r,l)?0:e.startOf(l).diff(r.startOf(l),l).get(l):e.diff(r,l).get(l);if(n.unit)return a(u(n.unit),n.unit);for(let l of n.units){let f=u(l);if(Math.abs(f)>=1)return a(f,l)}return a(r>e?-0:0,n.units[n.units.length-1])}function Pa(r){let e={},n;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],n=Array.from(r).slice(0,r.length-1)):n=Array.from(r),[e,n]}var $=class r{constructor(e){let n=e.zone||z.defaultZone,i=e.invalid||(Number.isNaN(e.ts)?new se("invalid input"):null)||(n.isValid?null:nn(n));this.ts=I(e.ts)?z.now():e.ts;let a=null,u=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[a,u]=[e.old.c,e.old.o];else{let f=n.offset(this.ts);a=Ca(this.ts,f),i=Number.isNaN(a.year)?new se("invalid input"):null,a=i?null:a,u=i?null:f}this._zone=n,this.loc=e.loc||H.create(),this.invalid=i,this.weekData=null,this.c=a,this.o=u,this.isLuxonDateTime=!0}static now(){return new r({})}static local(){let[e,n]=Pa(arguments),[i,a,u,l,f,d,m]=n;return Aa({year:i,month:a,day:u,hour:l,minute:f,second:d,millisecond:m},e)}static utc(){let[e,n]=Pa(arguments),[i,a,u,l,f,d,m]=n;return e.zone=ae.utcInstance,Aa({year:i,month:a,day:u,hour:l,minute:f,second:d,millisecond:m},e)}static fromJSDate(e,n={}){let i=Gl(e)?e.valueOf():NaN;if(Number.isNaN(i))return r.invalid("invalid input");let a=Je(n.zone,z.defaultZone);return a.isValid?new r({ts:i,zone:a,loc:H.fromObject(n)}):r.invalid(nn(a))}static fromMillis(e,n={}){if(ft(e))return e<-Ea||e>Ea?r.invalid("Timestamp out of range"):new r({ts:e,zone:Je(n.zone,z.defaultZone),loc:H.fromObject(n)});throw new X(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ft(e))return new r({ts:e*1e3,zone:Je(n.zone,z.defaultZone),loc:H.fromObject(n)});throw new X("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let i=Je(n.zone,z.defaultZone);if(!i.isValid)return r.invalid(nn(i));let a=z.now(),u=I(n.specificOffset)?i.offset(a):n.specificOffset,l=fn(e,ka),f=!I(l.ordinal),d=!I(l.year),m=!I(l.month)||!I(l.day),S=d||m,T=l.weekYear||l.weekNumber,w=H.fromObject(n);if((S||f)&&T)throw new lt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&f)throw new lt("Can't mix ordinal dates with month/day");let y=T||l.weekday&&!S,g,A,C=Ca(a,u);y?(g=Wf,A=Nf,C=ks(C)):f?(g=Bf,A=Lf,C=ds(C)):(g=ko,A=Oo);let O=!1;for(let Z of g){let wr=l[Z];I(wr)?O?l[Z]=A[Z]:l[Z]=C[Z]:O=!0}let W=y?Mf(l):f?Ff(l):Eo(l),Q=W||Co(l);if(Q)return r.invalid(Q);let P=y?Ta(l):f?Ra(l):l,[q,N]=on(P,u,i),fe=new r({ts:q,zone:i,o:N,loc:w});return l.weekday&&S&&e.weekday!==fe.weekday?r.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${fe.toISO()}`):fe}static fromISO(e,n={}){let[i,a]=Jc(e);return ir(i,a,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[i,a]=Kc(e);return ir(i,a,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[i,a]=Xc(e);return ir(i,a,n,"HTTP",n)}static fromFormat(e,n,i={}){if(I(e)||I(n))throw new X("fromFormat requires an input string and a format");let{locale:a=null,numberingSystem:u=null}=i,l=H.fromOpts({locale:a,numberingSystem:u,defaultToEN:!0}),[f,d,m,S]=If(l,e,n);return S?r.invalid(S):ir(f,d,i,`format ${n}`,e,m)}static fromString(e,n,i={}){return r.fromFormat(e,n,i)}static fromSQL(e,n={}){let[i,a]=of(e);return ir(i,a,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new X("need to specify a reason the DateTime is invalid");let i=e instanceof se?e:new se(e,n);if(z.throwOnInvalid)throw new ps(i);return new r({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ms(this).weekYear:NaN}get weekNumber(){return this.isValid?ms(this).weekNumber:NaN}get weekday(){return this.isValid?ms(this).weekday:NaN}get ordinal(){return this.isValid?ds(this.c).ordinal:NaN}get monthShort(){return this.isValid?ct.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ct.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ct.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ct.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return cr(this.year)}get daysInMonth(){return ln(this.year,this.month)}get daysInYear(){return this.isValid?ur(this.year):NaN}get weeksInWeekYear(){return this.isValid?cn(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:i,calendar:a}=Re.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:a}}toUTC(e=0,n={}){return this.setZone(ae.instance(e),n)}toLocal(){return this.setZone(z.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=Je(e,z.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(n||i){let u=e.offset(this.ts),l=this.toObject();[a]=on(l,u,e)}return sr(this,{ts:a,zone:e})}else return r.invalid(nn(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){let a=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return sr(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=fn(e,ka),i=!I(n.weekYear)||!I(n.weekNumber)||!I(n.weekday),a=!I(n.ordinal),u=!I(n.year),l=!I(n.month)||!I(n.day),f=u||l,d=n.weekYear||n.weekNumber;if((f||a)&&d)throw new lt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new lt("Can't mix ordinal dates with month/day");let m;i?m=Ta({...ks(this.c),...n}):I(n.ordinal)?(m={...this.toObject(),...n},I(n.day)&&(m.day=Math.min(ln(m.year,m.month),m.day))):m=Ra({...ds(this.c),...n});let[S,T]=on(m,this.o,this.zone);return sr(this,{ts:S,o:T})}plus(e){if(!this.isValid)return this;let n=Y.fromDurationLike(e);return sr(this,va(this,n))}minus(e){if(!this.isValid)return this;let n=Y.fromDurationLike(e).negate();return sr(this,va(this,n))}startOf(e){if(!this.isValid)return this;let n={},i=Y.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks"&&(n.weekday=1),i==="quarters"){let a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Re.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):hs}toLocaleString(e=Ss,n={}){return this.isValid?Re.create(this.loc.clone(n),e).formatDateTime(this):hs}toLocaleParts(e={}){return this.isValid?Re.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:a=!0,extendedZone:u=!1}={}){if(!this.isValid)return null;let l=e==="extended",f=ys(this,l);return f+="T",f+=Oa(this,l,n,i,a,u),f}toISODate({format:e="extended"}={}){return this.isValid?ys(this,e==="extended"):null}toISOWeekDate(){return sn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:a=!1,extendedZone:u=!1,format:l="extended"}={}){return this.isValid?(a?"T":"")+Oa(this,l==="extended",n,e,i,u):null}toRFC2822(){return sn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return sn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ys(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let a="HH:mm:ss.SSS";return(n||e)&&(i&&(a+=" "),n?a+="z":e&&(a+="ZZ")),sn(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():hs}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return Y.invalid("created by diffing an invalid DateTime");let a={locale:this.locale,numberingSystem:this.numberingSystem,...i},u=Ql(n).map(Y.normalizeUnit),l=e.valueOf()>this.valueOf(),f=l?this:e,d=l?e:this,m=pf(f,d,u,a);return l?m.negate():m}diffNow(e="milliseconds",n={}){return this.diff(r.now(),e,n)}until(e){return this.isValid?dt.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;let i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(n)<=i&&i<=a.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||r.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0,a=["years","months","days","hours","minutes","seconds"],u=e.unit;return Array.isArray(e.unit)&&(a=e.unit,u=void 0),Da(n,this.plus(i),{...e,numeric:"always",units:a,unit:u})}toRelativeCalendar(e={}){return this.isValid?Da(e.base||r.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(r.isDateTime))throw new X("min requires all arguments be DateTimes");return ua(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(r.isDateTime))throw new X("max requires all arguments be DateTimes");return ua(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){let{locale:a=null,numberingSystem:u=null}=i,l=H.fromOpts({locale:a,numberingSystem:u,defaultToEN:!0});return go(l,e,n)}static fromStringExplain(e,n,i={}){return r.fromFormatExplain(e,n,i)}static get DATE_SHORT(){return Ss}static get DATE_MED(){return Ia}static get DATE_MED_WITH_WEEKDAY(){return jl}static get DATE_FULL(){return Ma}static get DATE_HUGE(){return Fa}static get TIME_SIMPLE(){return Na}static get TIME_WITH_SECONDS(){return La}static get TIME_WITH_SHORT_OFFSET(){return Wa}static get TIME_WITH_LONG_OFFSET(){return Ba}static get TIME_24_SIMPLE(){return xa}static get TIME_24_WITH_SECONDS(){return qa}static get TIME_24_WITH_SHORT_OFFSET(){return za}static get TIME_24_WITH_LONG_OFFSET(){return $a}static get DATETIME_SHORT(){return Va}static get DATETIME_SHORT_WITH_SECONDS(){return Ua}static get DATETIME_MED(){return Ha}static get DATETIME_MED_WITH_SECONDS(){return ja}static get DATETIME_MED_WITH_WEEKDAY(){return Zl}static get DATETIME_FULL(){return Za}static get DATETIME_FULL_WITH_SECONDS(){return Ya}static get DATETIME_HUGE(){return Ga}static get DATETIME_HUGE_WITH_SECONDS(){return Qa}};function ar(r){if($.isDateTime(r))return r;if(r&&r.valueOf&&ft(r.valueOf()))return $.fromJSDate(r);if(r&&typeof r=="object")return $.fromObject(r);throw new X(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var xf="2.4.0";oe.DateTime=$;oe.Duration=Y;oe.FixedOffsetZone=ae;oe.IANAZone=xe;oe.Info=ct;oe.Interval=dt;oe.InvalidZone=hn;oe.Settings=z;oe.SystemZone=dn;oe.VERSION=xf;oe.Zone=Ke});var Io=en((bn,Po)=>{(function(r,e){typeof bn=="object"&&typeof Po<"u"?e(bn):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.WebStreamsPolyfill={}))})(bn,function(r){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function n(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let a=i();function u(t){return typeof t=="object"&&t!==null||typeof t=="function"}let l=n,f=Promise,d=Promise.prototype.then,m=Promise.resolve.bind(f),S=Promise.reject.bind(f);function T(t){return new f(t)}function w(t){return m(t)}function y(t){return S(t)}function g(t,s,o){return d.call(t,s,o)}function A(t,s,o){g(g(t,s,o),void 0,l)}function C(t,s){A(t,s)}function O(t,s){A(t,void 0,s)}function W(t,s,o){return g(t,s,o)}function Q(t){g(t,void 0,l)}let P=(()=>{let t=a&&a.queueMicrotask;if(typeof t=="function")return t;let s=w(void 0);return o=>g(s,o)})();function q(t,s,o){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,s,o)}function N(t,s,o){try{return w(q(t,s,o))}catch(c){return y(c)}}let fe=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(s){let o=this._back,c=o;o._elements.length===fe-1&&(c={_elements:[],_next:void 0}),o._elements.push(s),c!==o&&(this._back=c,o._next=c),++this._size}shift(){let s=this._front,o=s,c=this._cursor,h=c+1,p=s._elements,b=p[c];return h===fe&&(o=s._next,h=0),--this._size,this._cursor=h,s!==o&&(this._front=o),p[c]=void 0,b}forEach(s){let o=this._cursor,c=this._front,h=c._elements;for(;(o!==h.length||c._next!==void 0)&&!(o===h.length&&(c=c._next,h=c._elements,o=0,h.length===0));)s(h[o]),++o}peek(){let s=this._front,o=this._cursor;return s._elements[o]}}function wr(t,s){t._ownerReadableStream=s,s._reader=t,s._state==="readable"?Pn(t):s._state==="closed"?yu(t):js(t,s._storedError)}function Dn(t,s){let o=t._ownerReadableStream;return Se(o,s)}function Pe(t){t._ownerReadableStream._state==="readable"?In(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):pu(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function gt(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function Pn(t){t._closedPromise=T((s,o)=>{t._closedPromise_resolve=s,t._closedPromise_reject=o})}function js(t,s){Pn(t),In(t,s)}function yu(t){Pn(t),Zs(t)}function In(t,s){t._closedPromise_reject!==void 0&&(Q(t._closedPromise),t._closedPromise_reject(s),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function pu(t,s){js(t,s)}function Zs(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}let Ys=e("[[AbortSteps]]"),Gs=e("[[ErrorSteps]]"),Mn=e("[[CancelSteps]]"),Fn=e("[[PullSteps]]"),Qs=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},bu=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function gu(t){return typeof t=="object"||typeof t=="function"}function Ie(t,s){if(t!==void 0&&!gu(t))throw new TypeError(`${s} is not an object.`)}function be(t,s){if(typeof t!="function")throw new TypeError(`${s} is not a function.`)}function Su(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Js(t,s){if(!Su(t))throw new TypeError(`${s} is not an object.`)}function Me(t,s,o){if(t===void 0)throw new TypeError(`Parameter ${s} is required in '${o}'.`)}function Nn(t,s,o){if(t===void 0)throw new TypeError(`${s} is required in '${o}'.`)}function Ln(t){return Number(t)}function Ks(t){return t===0?0:t}function wu(t){return Ks(bu(t))}function Xs(t,s){let c=Number.MAX_SAFE_INTEGER,h=Number(t);if(h=Ks(h),!Qs(h))throw new TypeError(`${s} is not a finite number`);if(h=wu(h),h<0||h>c)throw new TypeError(`${s} is outside the accepted range of 0 to ${c}, inclusive`);return!Qs(h)||h===0?0:h}function Wn(t,s){if(!Ze(t))throw new TypeError(`${s} is not a ReadableStream.`)}function St(t){return new zt(t)}function ei(t,s){t._reader._readRequests.push(s)}function Bn(t,s,o){let h=t._reader._readRequests.shift();o?h._closeSteps():h._chunkSteps(s)}function _r(t){return t._reader._readRequests.length}function ti(t){let s=t._reader;return!(s===void 0||!Ve(s))}class zt{constructor(s){if(Me(s,1,"ReadableStreamDefaultReader"),Wn(s,"First parameter"),Ye(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");wr(this,s),this._readRequests=new Z}get closed(){return Ve(this)?this._closedPromise:y(Tr("closed"))}cancel(s=void 0){return Ve(this)?this._ownerReadableStream===void 0?y(gt("cancel")):Dn(this,s):y(Tr("cancel"))}read(){if(!Ve(this))return y(Tr("read"));if(this._ownerReadableStream===void 0)return y(gt("read from"));let s,o,c=T((p,b)=>{s=p,o=b});return $t(this,{_chunkSteps:p=>s({value:p,done:!1}),_closeSteps:()=>s({value:void 0,done:!0}),_errorSteps:p=>o(p)}),c}releaseLock(){if(!Ve(this))throw Tr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Pe(this)}}}Object.defineProperties(zt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(zt.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ve(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_readRequests")?!1:t instanceof zt}function $t(t,s){let o=t._ownerReadableStream;o._disturbed=!0,o._state==="closed"?s._closeSteps():o._state==="errored"?s._errorSteps(o._storedError):o._readableStreamController[Fn](s)}function Tr(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let ri=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ni{constructor(s,o){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=s,this._preventCancel=o}next(){let s=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?W(this._ongoingPromise,s,s):s(),this._ongoingPromise}return(s){let o=()=>this._returnSteps(s);return this._ongoingPromise?W(this._ongoingPromise,o,o):o()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let s=this._reader;if(s._ownerReadableStream===void 0)return y(gt("iterate"));let o,c,h=T((b,R)=>{o=b,c=R});return $t(s,{_chunkSteps:b=>{this._ongoingPromise=void 0,P(()=>o({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Pe(s),o({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,Pe(s),c(b)}}),h}_returnSteps(s){if(this._isFinished)return Promise.resolve({value:s,done:!0});this._isFinished=!0;let o=this._reader;if(o._ownerReadableStream===void 0)return y(gt("finish iterating"));if(!this._preventCancel){let c=Dn(o,s);return Pe(o),W(c,()=>({value:s,done:!0}))}return Pe(o),w({value:s,done:!0})}}let si={next(){return ii(this)?this._asyncIteratorImpl.next():y(ai("next"))},return(t){return ii(this)?this._asyncIteratorImpl.return(t):y(ai("return"))}};ri!==void 0&&Object.setPrototypeOf(si,ri);function _u(t,s){let o=St(t),c=new ni(o,s),h=Object.create(si);return h._asyncIteratorImpl=c,h}function ii(t){if(!u(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof ni}catch{return!1}}function ai(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}let oi=Number.isNaN||function(t){return t!==t};function Vt(t){return t.slice()}function ui(t,s,o,c,h){new Uint8Array(t).set(new Uint8Array(o,c,h),s)}function fd(t){return t}function Rr(t){return!1}function li(t,s,o){if(t.slice)return t.slice(s,o);let c=o-s,h=new ArrayBuffer(c);return ui(h,0,t,s,c),h}function Tu(t){return!(typeof t!="number"||oi(t)||t<0)}function ci(t){let s=li(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(s)}function xn(t){let s=t._queue.shift();return t._queueTotalSize-=s.size,t._queueTotalSize<0&&(t._queueTotalSize=0),s.value}function qn(t,s,o){if(!Tu(o)||o===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:s,size:o}),t._queueTotalSize+=o}function Ru(t){return t._queue.peek().value}function Ue(t){t._queue=new Z,t._queueTotalSize=0}class Ut{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!zn(this))throw Hn("view");return this._view}respond(s){if(!zn(this))throw Hn("respond");if(Me(s,1,"respond"),s=Xs(s,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Rr(this._view.buffer),kr(this._associatedReadableByteStreamController,s)}respondWithNewView(s){if(!zn(this))throw Hn("respondWithNewView");if(Me(s,1,"respondWithNewView"),!ArrayBuffer.isView(s))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Rr(s.buffer),Ar(this._associatedReadableByteStreamController,s)}}Object.defineProperties(Ut.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ut.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class wt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!et(this))throw jt("byobRequest");return Un(this)}get desiredSize(){if(!et(this))throw jt("desiredSize");return gi(this)}close(){if(!et(this))throw jt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be closed`);Ht(this)}enqueue(s){if(!et(this))throw jt("enqueue");if(Me(s,1,"enqueue"),!ArrayBuffer.isView(s))throw new TypeError("chunk must be an array buffer view");if(s.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(s.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be enqueued to`);Or(this,s)}error(s=void 0){if(!et(this))throw jt("error");ge(this,s)}[Mn](s){fi(this),Ue(this);let o=this._cancelAlgorithm(s);return vr(this),o}[Fn](s){let o=this._controlledReadableByteStream;if(this._queueTotalSize>0){let h=this._queue.shift();this._queueTotalSize-=h.byteLength,yi(this);let p=new Uint8Array(h.buffer,h.byteOffset,h.byteLength);s._chunkSteps(p);return}let c=this._autoAllocateChunkSize;if(c!==void 0){let h;try{h=new ArrayBuffer(c)}catch(b){s._errorSteps(b);return}let p={buffer:h,bufferByteLength:c,byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}ei(o,s),tt(this)}}Object.defineProperties(wt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function et(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")?!1:t instanceof wt}function zn(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")?!1:t instanceof Ut}function tt(t){if(!Ou(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let o=t._pullAlgorithm();A(o,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,tt(t))},c=>{ge(t,c)})}function fi(t){Vn(t),t._pendingPullIntos=new Z}function $n(t,s){let o=!1;t._state==="closed"&&(o=!0);let c=di(s);s.readerType==="default"?Bn(t,c,o):Du(t,c,o)}function di(t){let s=t.bytesFilled,o=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,s/o)}function Er(t,s,o,c){t._queue.push({buffer:s,byteOffset:o,byteLength:c}),t._queueTotalSize+=c}function hi(t,s){let o=s.elementSize,c=s.bytesFilled-s.bytesFilled%o,h=Math.min(t._queueTotalSize,s.byteLength-s.bytesFilled),p=s.bytesFilled+h,b=p-p%o,R=h,v=!1;b>c&&(R=b-s.bytesFilled,v=!0);let D=t._queue;for(;R>0;){let M=D.peek(),F=Math.min(R,M.byteLength),V=s.byteOffset+s.bytesFilled;ui(s.buffer,V,M.buffer,M.byteOffset,F),M.byteLength===F?D.shift():(M.byteOffset+=F,M.byteLength-=F),t._queueTotalSize-=F,mi(t,F,s),R-=F}return v}function mi(t,s,o){o.bytesFilled+=s}function yi(t){t._queueTotalSize===0&&t._closeRequested?(vr(t),er(t._controlledReadableByteStream)):tt(t)}function Vn(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function pi(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;let s=t._pendingPullIntos.peek();hi(t,s)&&(Cr(t),$n(t._controlledReadableByteStream,s))}}function Eu(t,s,o){let c=t._controlledReadableByteStream,h=1;s.constructor!==DataView&&(h=s.constructor.BYTES_PER_ELEMENT);let p=s.constructor,b=s.buffer,R={buffer:b,bufferByteLength:b.byteLength,byteOffset:s.byteOffset,byteLength:s.byteLength,bytesFilled:0,elementSize:h,viewConstructor:p,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(R),_i(c,o);return}if(c._state==="closed"){let v=new p(R.buffer,R.byteOffset,0);o._closeSteps(v);return}if(t._queueTotalSize>0){if(hi(t,R)){let v=di(R);yi(t),o._chunkSteps(v);return}if(t._closeRequested){let v=new TypeError("Insufficient bytes to fill elements in the given buffer");ge(t,v),o._errorSteps(v);return}}t._pendingPullIntos.push(R),_i(c,o),tt(t)}function Cu(t,s){let o=t._controlledReadableByteStream;if(jn(o))for(;Ti(o)>0;){let c=Cr(t);$n(o,c)}}function vu(t,s,o){if(mi(t,s,o),o.bytesFilled<o.elementSize)return;Cr(t);let c=o.bytesFilled%o.elementSize;if(c>0){let h=o.byteOffset+o.bytesFilled,p=li(o.buffer,h-c,h);Er(t,p,0,p.byteLength)}o.bytesFilled-=c,$n(t._controlledReadableByteStream,o),pi(t)}function bi(t,s){let o=t._pendingPullIntos.peek();Vn(t),t._controlledReadableByteStream._state==="closed"?Cu(t):vu(t,s,o),tt(t)}function Cr(t){return t._pendingPullIntos.shift()}function Ou(t){let s=t._controlledReadableByteStream;return s._state!=="readable"||t._closeRequested||!t._started?!1:!!(ti(s)&&_r(s)>0||jn(s)&&Ti(s)>0||gi(t)>0)}function vr(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Ht(t){let s=t._controlledReadableByteStream;if(!(t._closeRequested||s._state!=="readable")){if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let c=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ge(t,c),c}vr(t),er(s)}}function Or(t,s){let o=t._controlledReadableByteStream;if(t._closeRequested||o._state!=="readable")return;let c=s.buffer,h=s.byteOffset,p=s.byteLength,b=c;if(t._pendingPullIntos.length>0){let R=t._pendingPullIntos.peek();Rr(R.buffer),R.buffer=R.buffer}if(Vn(t),ti(o))if(_r(o)===0)Er(t,b,h,p);else{t._pendingPullIntos.length>0&&Cr(t);let R=new Uint8Array(b,h,p);Bn(o,R,!1)}else jn(o)?(Er(t,b,h,p),pi(t)):Er(t,b,h,p);tt(t)}function ge(t,s){let o=t._controlledReadableByteStream;o._state==="readable"&&(fi(t),Ue(t),vr(t),ji(o,s))}function Un(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){let s=t._pendingPullIntos.peek(),o=new Uint8Array(s.buffer,s.byteOffset+s.bytesFilled,s.byteLength-s.bytesFilled),c=Object.create(Ut.prototype);Au(c,t,o),t._byobRequest=c}return t._byobRequest}function gi(t){let s=t._controlledReadableByteStream._state;return s==="errored"?null:s==="closed"?0:t._strategyHWM-t._queueTotalSize}function kr(t,s){let o=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(s!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(s===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(o.bytesFilled+s>o.byteLength)throw new RangeError("bytesWritten out of range")}o.buffer=o.buffer,bi(t,s)}function Ar(t,s){let o=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(s.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(s.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(o.byteOffset+o.bytesFilled!==s.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(o.bufferByteLength!==s.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(o.bytesFilled+s.byteLength>o.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let h=s.byteLength;o.buffer=s.buffer,bi(t,h)}function Si(t,s,o,c,h,p,b){s._controlledReadableByteStream=t,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,Ue(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=p,s._pullAlgorithm=c,s._cancelAlgorithm=h,s._autoAllocateChunkSize=b,s._pendingPullIntos=new Z,t._readableStreamController=s;let R=o();A(w(R),()=>{s._started=!0,tt(s)},v=>{ge(s,v)})}function ku(t,s,o){let c=Object.create(wt.prototype),h=()=>{},p=()=>w(void 0),b=()=>w(void 0);s.start!==void 0&&(h=()=>s.start(c)),s.pull!==void 0&&(p=()=>s.pull(c)),s.cancel!==void 0&&(b=v=>s.cancel(v));let R=s.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Si(t,c,h,p,b,o,R)}function Au(t,s,o){t._associatedReadableByteStreamController=s,t._view=o}function Hn(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function jt(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function wi(t){return new Zt(t)}function _i(t,s){t._reader._readIntoRequests.push(s)}function Du(t,s,o){let h=t._reader._readIntoRequests.shift();o?h._closeSteps(s):h._chunkSteps(s)}function Ti(t){return t._reader._readIntoRequests.length}function jn(t){let s=t._reader;return!(s===void 0||!rt(s))}class Zt{constructor(s){if(Me(s,1,"ReadableStreamBYOBReader"),Wn(s,"First parameter"),Ye(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!et(s._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");wr(this,s),this._readIntoRequests=new Z}get closed(){return rt(this)?this._closedPromise:y(Dr("closed"))}cancel(s=void 0){return rt(this)?this._ownerReadableStream===void 0?y(gt("cancel")):Dn(this,s):y(Dr("cancel"))}read(s){if(!rt(this))return y(Dr("read"));if(!ArrayBuffer.isView(s))return y(new TypeError("view must be an array buffer view"));if(s.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(s.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(Rr(s.buffer),this._ownerReadableStream===void 0)return y(gt("read from"));let o,c,h=T((b,R)=>{o=b,c=R});return Ri(this,s,{_chunkSteps:b=>o({value:b,done:!1}),_closeSteps:b=>o({value:b,done:!0}),_errorSteps:b=>c(b)}),h}releaseLock(){if(!rt(this))throw Dr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Pe(this)}}}Object.defineProperties(Zt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Zt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function rt(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")?!1:t instanceof Zt}function Ri(t,s,o){let c=t._ownerReadableStream;c._disturbed=!0,c._state==="errored"?o._errorSteps(c._storedError):Eu(c._readableStreamController,s,o)}function Dr(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Yt(t,s){let{highWaterMark:o}=t;if(o===void 0)return s;if(oi(o)||o<0)throw new RangeError("Invalid highWaterMark");return o}function Pr(t){let{size:s}=t;return s||(()=>1)}function Ir(t,s){Ie(t,s);let o=t?.highWaterMark,c=t?.size;return{highWaterMark:o===void 0?void 0:Ln(o),size:c===void 0?void 0:Pu(c,`${s} has member 'size' that`)}}function Pu(t,s){return be(t,s),o=>Ln(t(o))}function Iu(t,s){Ie(t,s);let o=t?.abort,c=t?.close,h=t?.start,p=t?.type,b=t?.write;return{abort:o===void 0?void 0:Mu(o,t,`${s} has member 'abort' that`),close:c===void 0?void 0:Fu(c,t,`${s} has member 'close' that`),start:h===void 0?void 0:Nu(h,t,`${s} has member 'start' that`),write:b===void 0?void 0:Lu(b,t,`${s} has member 'write' that`),type:p}}function Mu(t,s,o){return be(t,o),c=>N(t,s,[c])}function Fu(t,s,o){return be(t,o),()=>N(t,s,[])}function Nu(t,s,o){return be(t,o),c=>q(t,s,[c])}function Lu(t,s,o){return be(t,o),(c,h)=>N(t,s,[c,h])}function Ei(t,s){if(!_t(t))throw new TypeError(`${s} is not a WritableStream.`)}function Wu(t){if(typeof t!="object"||t===null)return!1;try{return typeof t.aborted=="boolean"}catch{return!1}}let Bu=typeof AbortController=="function";function xu(){if(Bu)return new AbortController}class Gt{constructor(s={},o={}){s===void 0?s=null:Js(s,"First parameter");let c=Ir(o,"Second parameter"),h=Iu(s,"First parameter");if(vi(this),h.type!==void 0)throw new RangeError("Invalid type is specified");let b=Pr(c),R=Yt(c,1);Xu(this,h,R,b)}get locked(){if(!_t(this))throw Wr("locked");return Tt(this)}abort(s=void 0){return _t(this)?Tt(this)?y(new TypeError("Cannot abort a stream that already has a writer")):Mr(this,s):y(Wr("abort"))}close(){return _t(this)?Tt(this)?y(new TypeError("Cannot close a stream that already has a writer")):Oe(this)?y(new TypeError("Cannot close an already-closing stream")):Oi(this):y(Wr("close"))}getWriter(){if(!_t(this))throw Wr("getWriter");return Ci(this)}}Object.defineProperties(Gt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Gt.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Ci(t){return new Qt(t)}function qu(t,s,o,c,h=1,p=()=>1){let b=Object.create(Gt.prototype);vi(b);let R=Object.create(Rt.prototype);return Mi(b,R,t,s,o,c,h,p),b}function vi(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new Z,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function _t(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")?!1:t instanceof Gt}function Tt(t){return t._writer!==void 0}function Mr(t,s){var o;if(t._state==="closed"||t._state==="errored")return w(void 0);t._writableStreamController._abortReason=s,(o=t._writableStreamController._abortController)===null||o===void 0||o.abort();let c=t._state;if(c==="closed"||c==="errored")return w(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let h=!1;c==="erroring"&&(h=!0,s=void 0);let p=T((b,R)=>{t._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:R,_reason:s,_wasAlreadyErroring:h}});return t._pendingAbortRequest._promise=p,h||Yn(t,s),p}function Oi(t){let s=t._state;if(s==="closed"||s==="errored")return y(new TypeError(`The stream (in ${s} state) is not in the writable state and cannot be closed`));let o=T((h,p)=>{let b={_resolve:h,_reject:p};t._closeRequest=b}),c=t._writer;return c!==void 0&&t._backpressure&&s==="writable"&&ns(c),el(t._writableStreamController),o}function zu(t){return T((o,c)=>{let h={_resolve:o,_reject:c};t._writeRequests.push(h)})}function Zn(t,s){if(t._state==="writable"){Yn(t,s);return}Gn(t)}function Yn(t,s){let o=t._writableStreamController;t._state="erroring",t._storedError=s;let c=t._writer;c!==void 0&&Ai(c,s),!ju(t)&&o._started&&Gn(t)}function Gn(t){t._state="errored",t._writableStreamController[Gs]();let s=t._storedError;if(t._writeRequests.forEach(h=>{h._reject(s)}),t._writeRequests=new Z,t._pendingAbortRequest===void 0){Fr(t);return}let o=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,o._wasAlreadyErroring){o._reject(s),Fr(t);return}let c=t._writableStreamController[Ys](o._reason);A(c,()=>{o._resolve(),Fr(t)},h=>{o._reject(h),Fr(t)})}function $u(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function Vu(t,s){t._inFlightWriteRequest._reject(s),t._inFlightWriteRequest=void 0,Zn(t,s)}function Uu(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,t._state==="erroring"&&(t._storedError=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let o=t._writer;o!==void 0&&Wi(o)}function Hu(t,s){t._inFlightCloseRequest._reject(s),t._inFlightCloseRequest=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._reject(s),t._pendingAbortRequest=void 0),Zn(t,s)}function Oe(t){return!(t._closeRequest===void 0&&t._inFlightCloseRequest===void 0)}function ju(t){return!(t._inFlightWriteRequest===void 0&&t._inFlightCloseRequest===void 0)}function Zu(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function Yu(t){t._inFlightWriteRequest=t._writeRequests.shift()}function Fr(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let s=t._writer;s!==void 0&&ts(s,t._storedError)}function Qn(t,s){let o=t._writer;o!==void 0&&s!==t._backpressure&&(s?ol(o):ns(o)),t._backpressure=s}class Qt{constructor(s){if(Me(s,1,"WritableStreamDefaultWriter"),Ei(s,"First parameter"),Tt(s))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=s,s._writer=this;let o=s._state;if(o==="writable")!Oe(s)&&s._backpressure?xr(this):Bi(this),Br(this);else if(o==="erroring")rs(this,s._storedError),Br(this);else if(o==="closed")Bi(this),il(this);else{let c=s._storedError;rs(this,c),Li(this,c)}}get closed(){return nt(this)?this._closedPromise:y(st("closed"))}get desiredSize(){if(!nt(this))throw st("desiredSize");if(this._ownerWritableStream===void 0)throw Jt("desiredSize");return Ku(this)}get ready(){return nt(this)?this._readyPromise:y(st("ready"))}abort(s=void 0){return nt(this)?this._ownerWritableStream===void 0?y(Jt("abort")):Gu(this,s):y(st("abort"))}close(){if(!nt(this))return y(st("close"));let s=this._ownerWritableStream;return s===void 0?y(Jt("close")):Oe(s)?y(new TypeError("Cannot close an already-closing stream")):ki(this)}releaseLock(){if(!nt(this))throw st("releaseLock");this._ownerWritableStream!==void 0&&Di(this)}write(s=void 0){return nt(this)?this._ownerWritableStream===void 0?y(Jt("write to")):Pi(this,s):y(st("write"))}}Object.defineProperties(Qt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Qt.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function nt(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")?!1:t instanceof Qt}function Gu(t,s){let o=t._ownerWritableStream;return Mr(o,s)}function ki(t){let s=t._ownerWritableStream;return Oi(s)}function Qu(t){let s=t._ownerWritableStream,o=s._state;return Oe(s)||o==="closed"?w(void 0):o==="errored"?y(s._storedError):ki(t)}function Ju(t,s){t._closedPromiseState==="pending"?ts(t,s):al(t,s)}function Ai(t,s){t._readyPromiseState==="pending"?xi(t,s):ul(t,s)}function Ku(t){let s=t._ownerWritableStream,o=s._state;return o==="errored"||o==="erroring"?null:o==="closed"?0:Fi(s._writableStreamController)}function Di(t){let s=t._ownerWritableStream,o=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ai(t,o),Ju(t,o),s._writer=void 0,t._ownerWritableStream=void 0}function Pi(t,s){let o=t._ownerWritableStream,c=o._writableStreamController,h=tl(c,s);if(o!==t._ownerWritableStream)return y(Jt("write to"));let p=o._state;if(p==="errored")return y(o._storedError);if(Oe(o)||p==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return y(o._storedError);let b=zu(o);return rl(c,s,h),b}let Ii={};class Rt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Jn(this))throw es("abortReason");return this._abortReason}get signal(){if(!Jn(this))throw es("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(s=void 0){if(!Jn(this))throw es("error");this._controlledWritableStream._state==="writable"&&Ni(this,s)}[Ys](s){let o=this._abortAlgorithm(s);return Nr(this),o}[Gs](){Ue(this)}}Object.defineProperties(Rt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Jn(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")?!1:t instanceof Rt}function Mi(t,s,o,c,h,p,b,R){s._controlledWritableStream=t,t._writableStreamController=s,s._queue=void 0,s._queueTotalSize=void 0,Ue(s),s._abortReason=void 0,s._abortController=xu(),s._started=!1,s._strategySizeAlgorithm=R,s._strategyHWM=b,s._writeAlgorithm=c,s._closeAlgorithm=h,s._abortAlgorithm=p;let v=Xn(s);Qn(t,v);let D=o(),M=w(D);A(M,()=>{s._started=!0,Lr(s)},F=>{s._started=!0,Zn(t,F)})}function Xu(t,s,o,c){let h=Object.create(Rt.prototype),p=()=>{},b=()=>w(void 0),R=()=>w(void 0),v=()=>w(void 0);s.start!==void 0&&(p=()=>s.start(h)),s.write!==void 0&&(b=D=>s.write(D,h)),s.close!==void 0&&(R=()=>s.close()),s.abort!==void 0&&(v=D=>s.abort(D)),Mi(t,h,p,b,R,v,o,c)}function Nr(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function el(t){qn(t,Ii,0),Lr(t)}function tl(t,s){try{return t._strategySizeAlgorithm(s)}catch(o){return Kn(t,o),1}}function Fi(t){return t._strategyHWM-t._queueTotalSize}function rl(t,s,o){try{qn(t,s,o)}catch(h){Kn(t,h);return}let c=t._controlledWritableStream;if(!Oe(c)&&c._state==="writable"){let h=Xn(t);Qn(c,h)}Lr(t)}function Lr(t){let s=t._controlledWritableStream;if(!t._started||s._inFlightWriteRequest!==void 0)return;if(s._state==="erroring"){Gn(s);return}if(t._queue.length===0)return;let c=Ru(t);c===Ii?nl(t):sl(t,c)}function Kn(t,s){t._controlledWritableStream._state==="writable"&&Ni(t,s)}function nl(t){let s=t._controlledWritableStream;Zu(s),xn(t);let o=t._closeAlgorithm();Nr(t),A(o,()=>{Uu(s)},c=>{Hu(s,c)})}function sl(t,s){let o=t._controlledWritableStream;Yu(o);let c=t._writeAlgorithm(s);A(c,()=>{$u(o);let h=o._state;if(xn(t),!Oe(o)&&h==="writable"){let p=Xn(t);Qn(o,p)}Lr(t)},h=>{o._state==="writable"&&Nr(t),Vu(o,h)})}function Xn(t){return Fi(t)<=0}function Ni(t,s){let o=t._controlledWritableStream;Nr(t),Yn(o,s)}function Wr(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function es(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function st(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Jt(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Br(t){t._closedPromise=T((s,o)=>{t._closedPromise_resolve=s,t._closedPromise_reject=o,t._closedPromiseState="pending"})}function Li(t,s){Br(t),ts(t,s)}function il(t){Br(t),Wi(t)}function ts(t,s){t._closedPromise_reject!==void 0&&(Q(t._closedPromise),t._closedPromise_reject(s),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function al(t,s){Li(t,s)}function Wi(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function xr(t){t._readyPromise=T((s,o)=>{t._readyPromise_resolve=s,t._readyPromise_reject=o}),t._readyPromiseState="pending"}function rs(t,s){xr(t),xi(t,s)}function Bi(t){xr(t),ns(t)}function xi(t,s){t._readyPromise_reject!==void 0&&(Q(t._readyPromise),t._readyPromise_reject(s),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function ol(t){xr(t)}function ul(t,s){rs(t,s)}function ns(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}let qi=typeof DOMException<"u"?DOMException:void 0;function ll(t){if(!(typeof t=="function"||typeof t=="object"))return!1;try{return new t,!0}catch{return!1}}function cl(){let t=function(o,c){this.message=o||"",this.name=c||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}let fl=ll(qi)?qi:cl();function zi(t,s,o,c,h,p){let b=St(t),R=Ci(s);t._disturbed=!0;let v=!1,D=w(void 0);return T((M,F)=>{let V;if(p!==void 0){if(V=()=>{let E=new fl("Aborted","AbortError"),k=[];c||k.push(()=>s._state==="writable"?Mr(s,E):w(void 0)),h||k.push(()=>t._state==="readable"?Se(t,E):w(void 0)),K(()=>Promise.all(k.map(B=>B())),!0,E)},p.aborted){V();return}p.addEventListener("abort",V)}function we(){return T((E,k)=>{function B(ne){ne?E():g(vt(),B,k)}B(!1)})}function vt(){return v?w(!0):g(R._readyPromise,()=>T((E,k)=>{$t(b,{_chunkSteps:B=>{D=g(Pi(R,B),void 0,n),E(!1)},_closeSteps:()=>E(!0),_errorSteps:k})}))}if(Fe(t,b._closedPromise,E=>{c?de(!0,E):K(()=>Mr(s,E),!0,E)}),Fe(s,R._closedPromise,E=>{h?de(!0,E):K(()=>Se(t,E),!0,E)}),J(t,b._closedPromise,()=>{o?de():K(()=>Qu(R))}),Oe(s)||s._state==="closed"){let E=new TypeError("the destination writable stream closed before all data could be piped to it");h?de(!0,E):K(()=>Se(t,E),!0,E)}Q(we());function Ge(){let E=D;return g(D,()=>E!==D?Ge():void 0)}function Fe(E,k,B){E._state==="errored"?B(E._storedError):O(k,B)}function J(E,k,B){E._state==="closed"?B():C(k,B)}function K(E,k,B){if(v)return;v=!0,s._state==="writable"&&!Oe(s)?C(Ge(),ne):ne();function ne(){A(E(),()=>Ne(k,B),Ot=>Ne(!0,Ot))}}function de(E,k){v||(v=!0,s._state==="writable"&&!Oe(s)?C(Ge(),()=>Ne(E,k)):Ne(E,k))}function Ne(E,k){Di(R),Pe(b),p!==void 0&&p.removeEventListener("abort",V),E?F(k):M(void 0)}})}class Et{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!qr(this))throw Vr("desiredSize");return ss(this)}close(){if(!qr(this))throw Vr("close");if(!Ct(this))throw new TypeError("The stream is not in a state that permits close");Xt(this)}enqueue(s=void 0){if(!qr(this))throw Vr("enqueue");if(!Ct(this))throw new TypeError("The stream is not in a state that permits enqueue");return $r(this,s)}error(s=void 0){if(!qr(this))throw Vr("error");He(this,s)}[Mn](s){Ue(this);let o=this._cancelAlgorithm(s);return zr(this),o}[Fn](s){let o=this._controlledReadableStream;if(this._queue.length>0){let c=xn(this);this._closeRequested&&this._queue.length===0?(zr(this),er(o)):Kt(this),s._chunkSteps(c)}else ei(o,s),Kt(this)}}Object.defineProperties(Et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function qr(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")?!1:t instanceof Et}function Kt(t){if(!$i(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let o=t._pullAlgorithm();A(o,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Kt(t))},c=>{He(t,c)})}function $i(t){let s=t._controlledReadableStream;return!Ct(t)||!t._started?!1:!!(Ye(s)&&_r(s)>0||ss(t)>0)}function zr(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Xt(t){if(!Ct(t))return;let s=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(zr(t),er(s))}function $r(t,s){if(!Ct(t))return;let o=t._controlledReadableStream;if(Ye(o)&&_r(o)>0)Bn(o,s,!1);else{let c;try{c=t._strategySizeAlgorithm(s)}catch(h){throw He(t,h),h}try{qn(t,s,c)}catch(h){throw He(t,h),h}}Kt(t)}function He(t,s){let o=t._controlledReadableStream;o._state==="readable"&&(Ue(t),zr(t),ji(o,s))}function ss(t){let s=t._controlledReadableStream._state;return s==="errored"?null:s==="closed"?0:t._strategyHWM-t._queueTotalSize}function dl(t){return!$i(t)}function Ct(t){let s=t._controlledReadableStream._state;return!t._closeRequested&&s==="readable"}function Vi(t,s,o,c,h,p,b){s._controlledReadableStream=t,s._queue=void 0,s._queueTotalSize=void 0,Ue(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=b,s._strategyHWM=p,s._pullAlgorithm=c,s._cancelAlgorithm=h,t._readableStreamController=s;let R=o();A(w(R),()=>{s._started=!0,Kt(s)},v=>{He(s,v)})}function hl(t,s,o,c){let h=Object.create(Et.prototype),p=()=>{},b=()=>w(void 0),R=()=>w(void 0);s.start!==void 0&&(p=()=>s.start(h)),s.pull!==void 0&&(b=()=>s.pull(h)),s.cancel!==void 0&&(R=v=>s.cancel(v)),Vi(t,h,p,b,R,o,c)}function Vr(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function ml(t,s){return et(t._readableStreamController)?pl(t):yl(t)}function yl(t,s){let o=St(t),c=!1,h=!1,p=!1,b=!1,R,v,D,M,F,V=T(J=>{F=J});function we(){return c?(h=!0,w(void 0)):(c=!0,$t(o,{_chunkSteps:K=>{P(()=>{h=!1;let de=K,Ne=K;p||$r(D._readableStreamController,de),b||$r(M._readableStreamController,Ne),c=!1,h&&we()})},_closeSteps:()=>{c=!1,p||Xt(D._readableStreamController),b||Xt(M._readableStreamController),(!p||!b)&&F(void 0)},_errorSteps:()=>{c=!1}}),w(void 0))}function vt(J){if(p=!0,R=J,b){let K=Vt([R,v]),de=Se(t,K);F(de)}return V}function Ge(J){if(b=!0,v=J,p){let K=Vt([R,v]),de=Se(t,K);F(de)}return V}function Fe(){}return D=is(Fe,we,vt),M=is(Fe,we,Ge),O(o._closedPromise,J=>{He(D._readableStreamController,J),He(M._readableStreamController,J),(!p||!b)&&F(void 0)}),[D,M]}function pl(t){let s=St(t),o=!1,c=!1,h=!1,p=!1,b=!1,R,v,D,M,F,V=T(E=>{F=E});function we(E){O(E._closedPromise,k=>{E===s&&(ge(D._readableStreamController,k),ge(M._readableStreamController,k),(!p||!b)&&F(void 0))})}function vt(){rt(s)&&(Pe(s),s=St(t),we(s)),$t(s,{_chunkSteps:k=>{P(()=>{c=!1,h=!1;let B=k,ne=k;if(!p&&!b)try{ne=ci(k)}catch(Ot){ge(D._readableStreamController,Ot),ge(M._readableStreamController,Ot),F(Se(t,Ot));return}p||Or(D._readableStreamController,B),b||Or(M._readableStreamController,ne),o=!1,c?Fe():h&&J()})},_closeSteps:()=>{o=!1,p||Ht(D._readableStreamController),b||Ht(M._readableStreamController),D._readableStreamController._pendingPullIntos.length>0&&kr(D._readableStreamController,0),M._readableStreamController._pendingPullIntos.length>0&&kr(M._readableStreamController,0),(!p||!b)&&F(void 0)},_errorSteps:()=>{o=!1}})}function Ge(E,k){Ve(s)&&(Pe(s),s=wi(t),we(s));let B=k?M:D,ne=k?D:M;Ri(s,E,{_chunkSteps:kt=>{P(()=>{c=!1,h=!1;let At=k?b:p;if(k?p:b)At||Ar(B._readableStreamController,kt);else{let ia;try{ia=ci(kt)}catch(os){ge(B._readableStreamController,os),ge(ne._readableStreamController,os),F(Se(t,os));return}At||Ar(B._readableStreamController,kt),Or(ne._readableStreamController,ia)}o=!1,c?Fe():h&&J()})},_closeSteps:kt=>{o=!1;let At=k?b:p,Kr=k?p:b;At||Ht(B._readableStreamController),Kr||Ht(ne._readableStreamController),kt!==void 0&&(At||Ar(B._readableStreamController,kt),!Kr&&ne._readableStreamController._pendingPullIntos.length>0&&kr(ne._readableStreamController,0)),(!At||!Kr)&&F(void 0)},_errorSteps:()=>{o=!1}})}function Fe(){if(o)return c=!0,w(void 0);o=!0;let E=Un(D._readableStreamController);return E===null?vt():Ge(E._view,!1),w(void 0)}function J(){if(o)return h=!0,w(void 0);o=!0;let E=Un(M._readableStreamController);return E===null?vt():Ge(E._view,!0),w(void 0)}function K(E){if(p=!0,R=E,b){let k=Vt([R,v]),B=Se(t,k);F(B)}return V}function de(E){if(b=!0,v=E,p){let k=Vt([R,v]),B=Se(t,k);F(B)}return V}function Ne(){}return D=Hi(Ne,Fe,K),M=Hi(Ne,J,de),we(s),[D,M]}function bl(t,s){Ie(t,s);let o=t,c=o?.autoAllocateChunkSize,h=o?.cancel,p=o?.pull,b=o?.start,R=o?.type;return{autoAllocateChunkSize:c===void 0?void 0:Xs(c,`${s} has member 'autoAllocateChunkSize' that`),cancel:h===void 0?void 0:gl(h,o,`${s} has member 'cancel' that`),pull:p===void 0?void 0:Sl(p,o,`${s} has member 'pull' that`),start:b===void 0?void 0:wl(b,o,`${s} has member 'start' that`),type:R===void 0?void 0:_l(R,`${s} has member 'type' that`)}}function gl(t,s,o){return be(t,o),c=>N(t,s,[c])}function Sl(t,s,o){return be(t,o),c=>N(t,s,[c])}function wl(t,s,o){return be(t,o),c=>q(t,s,[c])}function _l(t,s){if(t=`${t}`,t!=="bytes")throw new TypeError(`${s} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function Tl(t,s){Ie(t,s);let o=t?.mode;return{mode:o===void 0?void 0:Rl(o,`${s} has member 'mode' that`)}}function Rl(t,s){if(t=`${t}`,t!=="byob")throw new TypeError(`${s} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function El(t,s){return Ie(t,s),{preventCancel:!!t?.preventCancel}}function Ui(t,s){Ie(t,s);let o=t?.preventAbort,c=t?.preventCancel,h=t?.preventClose,p=t?.signal;return p!==void 0&&Cl(p,`${s} has member 'signal' that`),{preventAbort:!!o,preventCancel:!!c,preventClose:!!h,signal:p}}function Cl(t,s){if(!Wu(t))throw new TypeError(`${s} is not an AbortSignal.`)}function vl(t,s){Ie(t,s);let o=t?.readable;Nn(o,"readable","ReadableWritablePair"),Wn(o,`${s} has member 'readable' that`);let c=t?.writable;return Nn(c,"writable","ReadableWritablePair"),Ei(c,`${s} has member 'writable' that`),{readable:o,writable:c}}class je{constructor(s={},o={}){s===void 0?s=null:Js(s,"First parameter");let c=Ir(o,"Second parameter"),h=bl(s,"First parameter");if(as(this),h.type==="bytes"){if(c.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=Yt(c,0);ku(this,h,p)}else{let p=Pr(c),b=Yt(c,1);hl(this,h,b,p)}}get locked(){if(!Ze(this))throw it("locked");return Ye(this)}cancel(s=void 0){return Ze(this)?Ye(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):Se(this,s):y(it("cancel"))}getReader(s=void 0){if(!Ze(this))throw it("getReader");return Tl(s,"First parameter").mode===void 0?St(this):wi(this)}pipeThrough(s,o={}){if(!Ze(this))throw it("pipeThrough");Me(s,1,"pipeThrough");let c=vl(s,"First parameter"),h=Ui(o,"Second parameter");if(Ye(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Tt(c.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=zi(this,c.writable,h.preventClose,h.preventAbort,h.preventCancel,h.signal);return Q(p),c.readable}pipeTo(s,o={}){if(!Ze(this))return y(it("pipeTo"));if(s===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!_t(s))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let c;try{c=Ui(o,"Second parameter")}catch(h){return y(h)}return Ye(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Tt(s)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zi(this,s,c.preventClose,c.preventAbort,c.preventCancel,c.signal)}tee(){if(!Ze(this))throw it("tee");let s=ml(this);return Vt(s)}values(s=void 0){if(!Ze(this))throw it("values");let o=El(s,"First parameter");return _u(this,o.preventCancel)}}Object.defineProperties(je.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(je.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(je.prototype,e.asyncIterator,{value:je.prototype.values,writable:!0,configurable:!0});function is(t,s,o,c=1,h=()=>1){let p=Object.create(je.prototype);as(p);let b=Object.create(Et.prototype);return Vi(p,b,t,s,o,c,h),p}function Hi(t,s,o){let c=Object.create(je.prototype);as(c);let h=Object.create(wt.prototype);return Si(c,h,t,s,o,0,void 0),c}function as(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Ze(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")?!1:t instanceof je}function Ye(t){return t._reader!==void 0}function Se(t,s){if(t._disturbed=!0,t._state==="closed")return w(void 0);if(t._state==="errored")return y(t._storedError);er(t);let o=t._reader;o!==void 0&&rt(o)&&(o._readIntoRequests.forEach(h=>{h._closeSteps(void 0)}),o._readIntoRequests=new Z);let c=t._readableStreamController[Mn](s);return W(c,n)}function er(t){t._state="closed";let s=t._reader;s!==void 0&&(Zs(s),Ve(s)&&(s._readRequests.forEach(o=>{o._closeSteps()}),s._readRequests=new Z))}function ji(t,s){t._state="errored",t._storedError=s;let o=t._reader;o!==void 0&&(In(o,s),Ve(o)?(o._readRequests.forEach(c=>{c._errorSteps(s)}),o._readRequests=new Z):(o._readIntoRequests.forEach(c=>{c._errorSteps(s)}),o._readIntoRequests=new Z))}function it(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function Zi(t,s){Ie(t,s);let o=t?.highWaterMark;return Nn(o,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ln(o)}}let Yi=t=>t.byteLength;try{Object.defineProperty(Yi,"name",{value:"size",configurable:!0})}catch{}class Ur{constructor(s){Me(s,1,"ByteLengthQueuingStrategy"),s=Zi(s,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!Qi(this))throw Gi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Qi(this))throw Gi("size");return Yi}}Object.defineProperties(Ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ur.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Gi(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function Qi(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")?!1:t instanceof Ur}let Ji=()=>1;try{Object.defineProperty(Ji,"name",{value:"size",configurable:!0})}catch{}class Hr{constructor(s){Me(s,1,"CountQueuingStrategy"),s=Zi(s,"First parameter"),this._countQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!Xi(this))throw Ki("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Xi(this))throw Ki("size");return Ji}}Object.defineProperties(Hr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Hr.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ki(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function Xi(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")?!1:t instanceof Hr}function Ol(t,s){Ie(t,s);let o=t?.flush,c=t?.readableType,h=t?.start,p=t?.transform,b=t?.writableType;return{flush:o===void 0?void 0:kl(o,t,`${s} has member 'flush' that`),readableType:c,start:h===void 0?void 0:Al(h,t,`${s} has member 'start' that`),transform:p===void 0?void 0:Dl(p,t,`${s} has member 'transform' that`),writableType:b}}function kl(t,s,o){return be(t,o),c=>N(t,s,[c])}function Al(t,s,o){return be(t,o),c=>q(t,s,[c])}function Dl(t,s,o){return be(t,o),(c,h)=>N(t,s,[c,h])}class jr{constructor(s={},o={},c={}){s===void 0&&(s=null);let h=Ir(o,"Second parameter"),p=Ir(c,"Third parameter"),b=Ol(s,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=Yt(p,0),v=Pr(p),D=Yt(h,1),M=Pr(h),F,V=T(we=>{F=we});Pl(this,V,D,M,R,v),Ml(this,b),b.start!==void 0?F(b.start(this._transformStreamController)):F(void 0)}get readable(){if(!ea(this))throw sa("readable");return this._readable}get writable(){if(!ea(this))throw sa("writable");return this._writable}}Object.defineProperties(jr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Pl(t,s,o,c,h,p){function b(){return s}function R(V){return Ll(t,V)}function v(V){return Wl(t,V)}function D(){return Bl(t)}t._writable=qu(b,R,D,v,o,c);function M(){return xl(t)}function F(V){return Yr(t,V),w(void 0)}t._readable=is(b,M,F,h,p),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,Gr(t,!0),t._transformStreamController=void 0}function ea(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")?!1:t instanceof jr}function Zr(t,s){He(t._readable._readableStreamController,s),Yr(t,s)}function Yr(t,s){ta(t._transformStreamController),Kn(t._writable._writableStreamController,s),t._backpressure&&Gr(t,!1)}function Gr(t,s){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=T(o=>{t._backpressureChangePromise_resolve=o}),t._backpressure=s}class tr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qr(this))throw Jr("desiredSize");let s=this._controlledTransformStream._readable._readableStreamController;return ss(s)}enqueue(s=void 0){if(!Qr(this))throw Jr("enqueue");ra(this,s)}error(s=void 0){if(!Qr(this))throw Jr("error");Fl(this,s)}terminate(){if(!Qr(this))throw Jr("terminate");Nl(this)}}Object.defineProperties(tr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Qr(t){return!u(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")?!1:t instanceof tr}function Il(t,s,o,c){s._controlledTransformStream=t,t._transformStreamController=s,s._transformAlgorithm=o,s._flushAlgorithm=c}function Ml(t,s){let o=Object.create(tr.prototype),c=p=>{try{return ra(o,p),w(void 0)}catch(b){return y(b)}},h=()=>w(void 0);s.transform!==void 0&&(c=p=>s.transform(p,o)),s.flush!==void 0&&(h=()=>s.flush(o)),Il(t,o,c,h)}function ta(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function ra(t,s){let o=t._controlledTransformStream,c=o._readable._readableStreamController;if(!Ct(c))throw new TypeError("Readable side is not in a state that permits enqueue");try{$r(c,s)}catch(p){throw Yr(o,p),o._readable._storedError}dl(c)!==o._backpressure&&Gr(o,!0)}function Fl(t,s){Zr(t._controlledTransformStream,s)}function na(t,s){let o=t._transformAlgorithm(s);return W(o,void 0,c=>{throw Zr(t._controlledTransformStream,c),c})}function Nl(t){let s=t._controlledTransformStream,o=s._readable._readableStreamController;Xt(o);let c=new TypeError("TransformStream terminated");Yr(s,c)}function Ll(t,s){let o=t._transformStreamController;if(t._backpressure){let c=t._backpressureChangePromise;return W(c,()=>{let h=t._writable;if(h._state==="erroring")throw h._storedError;return na(o,s)})}return na(o,s)}function Wl(t,s){return Zr(t,s),w(void 0)}function Bl(t){let s=t._readable,o=t._transformStreamController,c=o._flushAlgorithm();return ta(o),W(c,()=>{if(s._state==="errored")throw s._storedError;Xt(s._readableStreamController)},h=>{throw Zr(t,h),s._storedError})}function xl(t){return Gr(t,!1),t._backpressureChangePromise}function Jr(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function sa(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Ur,r.CountQueuingStrategy=Hr,r.ReadableByteStreamController=wt,r.ReadableStream=je,r.ReadableStreamBYOBReader=Zt,r.ReadableStreamBYOBRequest=Ut,r.ReadableStreamDefaultController=Et,r.ReadableStreamDefaultReader=zt,r.TransformStream=jr,r.TransformStreamDefaultController=tr,r.WritableStream=Gt,r.WritableStreamDefaultController=Rt,r.WritableStreamDefaultWriter=Qt,Object.defineProperty(r,"__esModule",{value:!0})})});var Mo=en(()=>{if(!globalThis.ReadableStream)try{let r=require("node:process"),{emitWarning:e}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),r.emitWarning=e}catch(n){throw r.emitWarning=e,n}}catch{Object.assign(globalThis,Io())}try{let{Blob:r}=require("buffer");r&&!r.prototype.stream&&(r.prototype.stream=function(n){let i=0,a=this;return new ReadableStream({type:"bytes",async pull(u){let f=await a.slice(i,Math.min(a.size,i+65536)).arrayBuffer();i+=f.byteLength,u.enqueue(new Uint8Array(f)),i===a.size&&u.close()}})})}catch{}});async function*Ls(r,e=!0){for(let n of r)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(e){let i=n.byteOffset,a=n.byteOffset+n.byteLength;for(;i!==a;){let u=Math.min(a-i,Fo),l=n.buffer.slice(i,i+u);i+=l.byteLength,yield new Uint8Array(l)}}else yield n;else{let i=0,a=n;for(;i!==a.size;){let l=await a.slice(i,Math.min(a.size,i+Fo)).arrayBuffer();i+=l.byteLength,yield new Uint8Array(l)}}}var bd,Fo,No,zf,qe,hr=rr(()=>{bd=Le(Mo(),1);Fo=65536;No=class Ws{#e=[];#t="";#r=0;#n="transparent";constructor(e=[],n={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let i=new TextEncoder;for(let u of e){let l;ArrayBuffer.isView(u)?l=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?l=new Uint8Array(u.slice(0)):u instanceof Ws?l=u:l=i.encode(`${u}`);let f=ArrayBuffer.isView(l)?l.byteLength:l.size;f&&(this.#r+=f,this.#e.push(l))}this.#n=`${n.endings===void 0?"transparent":n.endings}`;let a=n.type===void 0?"":String(n.type);this.#t=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#r}get type(){return this.#t}async text(){let e=new TextDecoder,n="";for await(let i of Ls(this.#e,!1))n+=e.decode(i,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let i of Ls(this.#e,!1))e.set(i,n),n+=i.length;return e.buffer}stream(){let e=Ls(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let i=await e.next();i.done?n.close():n.enqueue(i.value)},async cancel(){await e.return()}})}slice(e=0,n=this.size,i=""){let{size:a}=this,u=e<0?Math.max(a+e,0):Math.min(e,a),l=n<0?Math.max(a+n,0):Math.min(n,a),f=Math.max(l-u,0),d=this.#e,m=[],S=0;for(let w of d){if(S>=f)break;let y=ArrayBuffer.isView(w)?w.byteLength:w.size;if(u&&y<=u)u-=y,l-=y;else{let g;ArrayBuffer.isView(w)?(g=w.subarray(u,Math.min(y,l)),S+=g.byteLength):(g=w.slice(u,Math.min(y,l)),S+=g.size),l-=y,m.push(g),u=0}}let T=new Ws([],{type:String(i).toLowerCase()});return T.#r=f,T.#e=m,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(No.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});zf=No,qe=zf});var $f,Vf,Wt,Bs=rr(()=>{hr();$f=class extends qe{#e=0;#t="";constructor(e,n,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,i),i===null&&(i={});let a=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(n)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof qe&&/^(File)$/.test(e[Symbol.toStringTag])}},Vf=$f,Wt=Vf});function Bo(r,e=qe){var n=`${Lo()}${Lo()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${n}\r
Content-Disposition: form-data; name="`;return r.forEach((u,l)=>typeof u=="string"?i.push(a+xs(l)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(a+xs(l)+`"; filename="${xs(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${n}--`),new e(i,{type:"multipart/form-data; boundary="+n})}var mr,Uf,Hf,Lo,jf,Wo,xs,ht,mt,gn=rr(()=>{hr();Bs();({toStringTag:mr,iterator:Uf,hasInstance:Hf}=Symbol),Lo=Math.random,jf="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Wo=(r,e,n)=>(r+="",/^(Blob|File)$/.test(e&&e[mr])?[(n=n!==void 0?n+"":e[mr]=="File"?e.name:"blob",r),e.name!==n||e[mr]=="blob"?new Wt([e],n,e):e]:[r,e+""]),xs=(r,e)=>(e?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),ht=(r,e,n)=>{if(e.length<n)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${n} arguments required, but only ${e.length} present.`)},mt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[mr](){return"FormData"}[Uf](){return this.entries()}static[Hf](e){return e&&typeof e=="object"&&e[mr]==="FormData"&&!jf.some(n=>typeof e[n]!="function")}append(...e){ht("append",arguments,2),this.#e.push(Wo(...e))}delete(e){ht("delete",arguments,1),e+="",this.#e=this.#e.filter(([n])=>n!==e)}get(e){ht("get",arguments,1),e+="";for(var n=this.#e,i=n.length,a=0;a<i;a++)if(n[a][0]===e)return n[a][1];return null}getAll(e,n){return ht("getAll",arguments,1),n=[],e+="",this.#e.forEach(i=>i[0]===e&&n.push(i[1])),n}has(e){return ht("has",arguments,1),e+="",this.#e.some(n=>n[0]===e)}forEach(e,n){ht("forEach",arguments,1);for(var[i,a]of this)e.call(n,a,i,this)}set(...e){ht("set",arguments,2);var n=[],i=!0;e=Wo(...e),this.#e.forEach(a=>{a[0]===e[0]?i&&(i=!n.push(e)):n.push(a)}),i&&n.push(e),this.#e=n}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var $o=en((Dd,zo)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),e=new r().port1,n=new ArrayBuffer;e.postMessage(n,[n,n])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}zo.exports=globalThis.DOMException});var wn,Zf,Md,zs=rr(()=>{wn=require("node:fs"),Zf=Le($o(),1);Bs();hr();({stat:Md}=wn.promises)});var Uo={};aa(Uo,{toFormData:()=>ed});function Xf(r){let e=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let n=e[2]||e[3]||"",i=n.slice(n.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(a,u)=>String.fromCharCode(u)),i}async function ed(r,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let n=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new $s(n[1]||n[2]),a,u,l,f,d,m,S=[],T=new mt,w=O=>{l+=C.decode(O,{stream:!0})},y=O=>{S.push(O)},g=()=>{let O=new Wt(S,m,{type:d});T.append(f,O)},A=()=>{T.append(f,l)},C=new TextDecoder("utf-8");C.decode(),i.onPartBegin=function(){i.onPartData=w,i.onPartEnd=A,a="",u="",l="",f="",d="",m=null,S.length=0},i.onHeaderField=function(O){a+=C.decode(O,{stream:!0})},i.onHeaderValue=function(O){u+=C.decode(O,{stream:!0})},i.onHeaderEnd=function(){if(u+=C.decode(),a=a.toLowerCase(),a==="content-disposition"){let O=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);O&&(f=O[2]||O[3]||""),m=Xf(u),m&&(i.onPartData=y,i.onPartEnd=g)}else a==="content-type"&&(d=u);u="",a=""};for await(let O of r)i.write(O);return i.end(),T}var Ae,x,Vo,Xe,_n,Tn,Yf,pr,Gf,Qf,Jf,Kf,yt,$s,Ho=rr(()=>{zs();gn();Ae=0,x={START_BOUNDARY:Ae++,HEADER_FIELD_START:Ae++,HEADER_FIELD:Ae++,HEADER_VALUE_START:Ae++,HEADER_VALUE:Ae++,HEADER_VALUE_ALMOST_DONE:Ae++,HEADERS_ALMOST_DONE:Ae++,PART_DATA_START:Ae++,PART_DATA:Ae++,END:Ae++},Vo=1,Xe={PART_BOUNDARY:Vo,LAST_BOUNDARY:Vo*=2},_n=10,Tn=13,Yf=32,pr=45,Gf=58,Qf=97,Jf=122,Kf=r=>r|32,yt=()=>{},$s=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=yt,this.onHeaderField=yt,this.onHeadersEnd=yt,this.onHeaderValue=yt,this.onPartBegin=yt,this.onPartData=yt,this.onPartEnd=yt,this.boundaryChars={},e=`\r
--`+e;let n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i),this.boundaryChars[n[i]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=x.START_BOUNDARY}write(e){let n=0,i=e.length,a=this.index,{lookbehind:u,boundary:l,boundaryChars:f,index:d,state:m,flags:S}=this,T=this.boundary.length,w=T-1,y=e.length,g,A,C=P=>{this[P+"Mark"]=n},O=P=>{delete this[P+"Mark"]},W=(P,q,N,fe)=>{(q===void 0||q!==N)&&this[P](fe&&fe.subarray(q,N))},Q=(P,q)=>{let N=P+"Mark";N in this&&(q?(W(P,this[N],n,e),delete this[N]):(W(P,this[N],e.length,e),this[N]=0))};for(n=0;n<i;n++)switch(g=e[n],m){case x.START_BOUNDARY:if(d===l.length-2){if(g===pr)S|=Xe.LAST_BOUNDARY;else if(g!==Tn)return;d++;break}else if(d-1===l.length-2){if(S&Xe.LAST_BOUNDARY&&g===pr)m=x.END,S=0;else if(!(S&Xe.LAST_BOUNDARY)&&g===_n)d=0,W("onPartBegin"),m=x.HEADER_FIELD_START;else return;break}g!==l[d+2]&&(d=-2),g===l[d+2]&&d++;break;case x.HEADER_FIELD_START:m=x.HEADER_FIELD,C("onHeaderField"),d=0;case x.HEADER_FIELD:if(g===Tn){O("onHeaderField"),m=x.HEADERS_ALMOST_DONE;break}if(d++,g===pr)break;if(g===Gf){if(d===1)return;Q("onHeaderField",!0),m=x.HEADER_VALUE_START;break}if(A=Kf(g),A<Qf||A>Jf)return;break;case x.HEADER_VALUE_START:if(g===Yf)break;C("onHeaderValue"),m=x.HEADER_VALUE;case x.HEADER_VALUE:g===Tn&&(Q("onHeaderValue",!0),W("onHeaderEnd"),m=x.HEADER_VALUE_ALMOST_DONE);break;case x.HEADER_VALUE_ALMOST_DONE:if(g!==_n)return;m=x.HEADER_FIELD_START;break;case x.HEADERS_ALMOST_DONE:if(g!==_n)return;W("onHeadersEnd"),m=x.PART_DATA_START;break;case x.PART_DATA_START:m=x.PART_DATA,C("onPartData");case x.PART_DATA:if(a=d,d===0){for(n+=w;n<y&&!(e[n]in f);)n+=T;n-=w,g=e[n]}if(d<l.length)l[d]===g?(d===0&&Q("onPartData",!0),d++):d=0;else if(d===l.length)d++,g===Tn?S|=Xe.PART_BOUNDARY:g===pr?S|=Xe.LAST_BOUNDARY:d=0;else if(d-1===l.length)if(S&Xe.PART_BOUNDARY){if(d=0,g===_n){S&=~Xe.PART_BOUNDARY,W("onPartEnd"),W("onPartBegin"),m=x.HEADER_FIELD_START;break}}else S&Xe.LAST_BOUNDARY&&g===pr?(W("onPartEnd"),m=x.END,S=0):d=0;if(d>0)u[d-1]=g;else if(a>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);W("onPartData",0,a,P),a=0,C("onPartData"),n--}break;case x.END:break;default:throw new Error(`Unexpected state entered: ${m}`)}Q("onHeaderField"),Q("onHeaderValue"),Q("onPartData"),this.index=d,this.state=m,this.flags=S}end(){if(this.state===x.HEADER_FIELD_START&&this.index===0||this.state===x.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==x.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var cd={};aa(cd,{default:()=>ld});module.exports=Hl(cd);var j=require("@raycast/api"),hu=Le(Ao()),mu=require("react");var kn=require("@raycast/api");var au=Le(require("node:http"),1),ou=Le(require("node:https"),1),bt=Le(require("node:zlib"),1),le=Le(require("node:stream"),1),gr=require("node:buffer");function qf(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let n=r.substring(5,e).split(";"),i="",a=!1,u=n[0]||"text/plain",l=u;for(let S=1;S<n.length;S++)n[S]==="base64"?a=!0:(l+=`;${n[S]}`,n[S].indexOf("charset=")===0&&(i=n[S].substring(8)));!n[0]&&!i.length&&(l+=";charset=US-ASCII",i="US-ASCII");let f=a?"base64":"ascii",d=unescape(r.substring(e+1)),m=Buffer.from(d,f);return m.type=u,m.typeFull=l,m.charset=i,m}var Do=qf;var ye=Le(require("node:stream"),1),$e=require("node:util"),ue=require("node:buffer");hr();gn();var ze=class extends Error{constructor(e,n){super(e),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ee=class extends ze{constructor(e,n,i){super(e,n),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Sn=Symbol.toStringTag,qs=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[Sn]==="URLSearchParams",yr=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[Sn]),xo=r=>typeof r=="object"&&(r[Sn]==="AbortSignal"||r[Sn]==="EventTarget"),qo=(r,e)=>{let n=new URL(e).hostname,i=new URL(r).hostname;return n===i||n.endsWith(`.${i}`)};var td=(0,$e.promisify)(ye.default.pipeline),te=Symbol("Body internals"),De=class{constructor(e,{size:n=0}={}){let i=null;e===null?e=null:qs(e)?e=ue.Buffer.from(e.toString()):yr(e)||ue.Buffer.isBuffer(e)||($e.types.isAnyArrayBuffer(e)?e=ue.Buffer.from(e):ArrayBuffer.isView(e)?e=ue.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ye.default||(e instanceof mt?(e=Bo(e),i=e.type.split("=")[1]):e=ue.Buffer.from(String(e))));let a=e;ue.Buffer.isBuffer(e)?a=ye.default.Readable.from(e):yr(e)&&(a=ye.default.Readable.from(e.stream())),this[te]={body:e,stream:a,boundary:i,disturbed:!1,error:null},this.size=n,e instanceof ye.default&&e.on("error",u=>{let l=u instanceof ze?u:new ee(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[te].error=l})}get body(){return this[te].stream}get bodyUsed(){return this[te].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:n,byteLength:i}=await Vs(this);return e.slice(n,n+i)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let i=new mt,a=new URLSearchParams(await this.text());for(let[u,l]of a)i.append(u,l);return i}let{toFormData:n}=await Promise.resolve().then(()=>(Ho(),Uo));return n(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[te].body&&this[te].body.type||"",n=await this.arrayBuffer();return new qe([n],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await Vs(this);return new TextDecoder().decode(e)}buffer(){return Vs(this)}};De.prototype.buffer=(0,$e.deprecate)(De.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(De.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,$e.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Vs(r){if(r[te].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[te].disturbed=!0,r[te].error)throw r[te].error;let{body:e}=r;if(e===null)return ue.Buffer.alloc(0);if(!(e instanceof ye.default))return ue.Buffer.alloc(0);let n=[],i=0;try{for await(let a of e){if(r.size>0&&i+a.length>r.size){let u=new ee(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw e.destroy(u),u}i+=a.length,n.push(a)}}catch(a){throw a instanceof ze?a:new ee(`Invalid response body while trying to fetch ${r.url}: ${a.message}`,"system",a)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return n.every(a=>typeof a=="string")?ue.Buffer.from(n.join("")):ue.Buffer.concat(n,i)}catch(a){throw new ee(`Could not create Buffer from response body for ${r.url}: ${a.message}`,"system",a)}else throw new ee(`Premature close of server response while trying to fetch ${r.url}`)}var Bt=(r,e)=>{let n,i,{body:a}=r[te];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof ye.default&&typeof a.getBoundary!="function"&&(n=new ye.PassThrough({highWaterMark:e}),i=new ye.PassThrough({highWaterMark:e}),a.pipe(n),a.pipe(i),r[te].stream=n,a=i),a},rd=(0,$e.deprecate)(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Rn=(r,e)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":qs(r)?"application/x-www-form-urlencoded;charset=UTF-8":yr(r)?r.type||null:ue.Buffer.isBuffer(r)||$e.types.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof mt?`multipart/form-data; boundary=${e[te].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${rd(r)}`:r instanceof ye.default?null:"text/plain;charset=UTF-8",jo=r=>{let{body:e}=r[te];return e===null?0:yr(e)?e.size:ue.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},Zo=async(r,{body:e})=>{e===null?r.end():await td(e,r)};var Us=require("node:util"),br=Le(require("node:http"),1),En=typeof br.default.validateHeaderName=="function"?br.default.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let e=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},Hs=typeof br.default.validateHeaderValue=="function"?br.default.validateHeaderValue:(r,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let n=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},re=class r extends URLSearchParams{constructor(e){let n=[];if(e instanceof r){let i=e.raw();for(let[a,u]of Object.entries(i))n.push(...u.map(l=>[a,l]))}else if(e!=null)if(typeof e=="object"&&!Us.types.isBoxedPrimitive(e)){let i=e[Symbol.iterator];if(i==null)n.push(...Object.entries(e));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");n=[...e].map(a=>{if(typeof a!="object"||Us.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return n=n.length>0?n.map(([i,a])=>(En(i),Hs(i,String(a)),[String(i).toLowerCase(),String(a)])):void 0,super(n),new Proxy(this,{get(i,a,u){switch(a){case"append":case"set":return(l,f)=>(En(l),Hs(l,String(f)),URLSearchParams.prototype[a].call(i,String(l).toLowerCase(),String(f)));case"delete":case"has":case"getAll":return l=>(En(l),URLSearchParams.prototype[a].call(i,String(l).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,a,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let n=this.getAll(e);if(n.length===0)return null;let i=n.join(", ");return/^content-encoding$/i.test(e)&&(i=i.toLowerCase()),i}forEach(e,n=void 0){for(let i of this.keys())Reflect.apply(e,n,[this.get(i),i,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,n)=>(e[n]=this.getAll(n),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,n)=>{let i=this.getAll(n);return n==="host"?e[n]=i[0]:e[n]=i.length>1?i:i[0],e},{})}};Object.defineProperties(re.prototype,["get","entries","forEach","values"].reduce((r,e)=>(r[e]={enumerable:!0},r),{}));function Yo(r=[]){return new re(r.reduce((e,n,i,a)=>(i%2===0&&e.push(a.slice(i,i+2)),e),[]).filter(([e,n])=>{try{return En(e),Hs(e,String(n)),!0}catch{return!1}}))}var nd=new Set([301,302,303,307,308]),Cn=r=>nd.has(r);var Ce=Symbol("Response internals"),pe=class r extends De{constructor(e=null,n={}){super(e,n);let i=n.status!=null?n.status:200,a=new re(n.headers);if(e!==null&&!a.has("Content-Type")){let u=Rn(e,this);u&&a.append("Content-Type",u)}this[Ce]={type:"default",url:n.url,status:i,statusText:n.statusText||"",headers:a,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[Ce].type}get url(){return this[Ce].url||""}get status(){return this[Ce].status}get ok(){return this[Ce].status>=200&&this[Ce].status<300}get redirected(){return this[Ce].counter>0}get statusText(){return this[Ce].statusText}get headers(){return this[Ce].headers}get highWaterMark(){return this[Ce].highWaterMark}clone(){return new r(Bt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,n=302){if(!Cn(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new r(null,{headers:{location:new URL(e).toString()},status:n})}static error(){let e=new r(null,{status:0,statusText:""});return e[Ce].type="error",e}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(pe.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var nu=require("node:url"),su=require("node:util");var Go=r=>{if(r.search)return r.search;let e=r.href.length-1,n=r.hash||(r.href[e]==="#"?"#":"");return r.href[e-n.length]==="?"?"?":""};var Jo=require("node:net");function Qo(r,e=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",e&&(r.pathname="",r.search=""),r)}var Ko=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Xo="strict-origin-when-cross-origin";function eu(r){if(!Ko.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function sd(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let e=r.host.replace(/(^\[)|(]$)/g,""),n=(0,Jo.isIP)(e);return n===4&&/^127\./.test(e)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:/^(.+\.)*localhost$/.test(r.host)?!1:r.protocol==="file:"}function xt(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:sd(r)}function tu(r,{referrerURLCallback:e,referrerOriginCallback:n}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let i=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let a=r.referrer,u=Qo(a),l=Qo(a,!0);u.toString().length>4096&&(u=l),e&&(u=e(u)),n&&(l=n(l));let f=new URL(r.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return u;case"strict-origin":return xt(u)&&!xt(f)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return u.origin===f.origin?u:xt(u)&&!xt(f)?"no-referrer":l;case"same-origin":return u.origin===f.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===f.origin?u:l;case"no-referrer-when-downgrade":return xt(u)&&!xt(f)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function ru(r){let e=(r.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let i of e)i&&Ko.has(i)&&(n=i);return n}var G=Symbol("Request internals"),vn=r=>typeof r=="object"&&typeof r[G]=="object",id=(0,su.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),pt=class r extends De{constructor(e,n={}){let i;if(vn(e)?i=new URL(e.url):(i=new URL(e),e={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let a=n.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),"data"in n&&id(),(n.body!=null||vn(e)&&e.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=n.body?n.body:vn(e)&&e.body!==null?Bt(e):null;super(u,{size:n.size||e.size||0});let l=new re(n.headers||e.headers||{});if(u!==null&&!l.has("Content-Type")){let m=Rn(u,this);m&&l.set("Content-Type",m)}let f=vn(e)?e.signal:null;if("signal"in n&&(f=n.signal),f!=null&&!xo(f))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let d=n.referrer==null?e.referrer:n.referrer;if(d==="")d="no-referrer";else if(d){let m=new URL(d);d=/^about:(\/\/)?client$/.test(m)?"client":m}else d=void 0;this[G]={method:a,redirect:n.redirect||e.redirect||"follow",headers:l,parsedURL:i,signal:f,referrer:d},this.follow=n.follow===void 0?e.follow===void 0?20:e.follow:n.follow,this.compress=n.compress===void 0?e.compress===void 0?!0:e.compress:n.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent,this.highWaterMark=n.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||e.referrerPolicy||""}get method(){return this[G].method}get url(){return(0,nu.format)(this[G].parsedURL)}get headers(){return this[G].headers}get redirect(){return this[G].redirect}get signal(){return this[G].signal}get referrer(){if(this[G].referrer==="no-referrer")return"";if(this[G].referrer==="client")return"about:client";if(this[G].referrer)return this[G].referrer.toString()}get referrerPolicy(){return this[G].referrerPolicy}set referrerPolicy(e){this[G].referrerPolicy=eu(e)}clone(){return new r(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(pt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var iu=r=>{let{parsedURL:e}=r[G],n=new re(r[G].headers);n.has("Accept")||n.set("Accept","*/*");let i=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(i="0"),r.body!==null){let f=jo(r);typeof f=="number"&&!Number.isNaN(f)&&(i=String(f))}i&&n.set("Content-Length",i),r.referrerPolicy===""&&(r.referrerPolicy=Xo),r.referrer&&r.referrer!=="no-referrer"?r[G].referrer=tu(r):r[G].referrer="no-referrer",r[G].referrer instanceof URL&&n.set("Referer",r.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),r.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=r;typeof a=="function"&&(a=a(e)),!n.has("Connection")&&!a&&n.set("Connection","close");let u=Go(e),l={path:e.pathname+u,method:r.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:a};return{parsedURL:e,options:l}};var On=class extends ze{constructor(e,n="aborted"){super(e,n)}};gn();zs();var ad=new Set(["data:","http:","https:"]);async function Sr(r,e){return new Promise((n,i)=>{let a=new pt(r,e),{parsedURL:u,options:l}=iu(a);if(!ad.has(u.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let g=Do(a.url),A=new pe(g,{headers:{"Content-Type":g.typeFull}});n(A);return}let f=(u.protocol==="https:"?ou.default:au.default).request,{signal:d}=a,m=null,S=()=>{let g=new On("The operation was aborted.");i(g),a.body&&a.body instanceof le.default.Readable&&a.body.destroy(g),!(!m||!m.body)&&m.body.emit("error",g)};if(d&&d.aborted){S();return}let T=()=>{S(),y()},w=f(u.toString(),l);d&&d.addEventListener("abort",T);let y=()=>{w.abort(),d&&d.removeEventListener("abort",T)};w.on("error",g=>{i(new ee(`request to ${a.url} failed, reason: ${g.message}`,"system",g)),y()}),od(w,g=>{m.body.destroy(g)}),process.version<"v14"&&w.on("socket",g=>{let A;g.prependListener("end",()=>{A=g._eventsCount}),g.prependListener("close",C=>{if(m&&A<g._eventsCount&&!C){let O=new Error("Premature close");O.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",O)}})}),w.on("response",g=>{w.setTimeout(0);let A=Yo(g.rawHeaders);if(Cn(g.statusCode)){let P=A.get("Location"),q=null;try{q=P===null?null:new URL(P,a.url)}catch{if(a.redirect!=="manual"){i(new ee(`uri requested responds with an invalid redirect URL: ${P}`,"invalid-redirect")),y();return}}switch(a.redirect){case"error":i(new ee(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if(q===null)break;if(a.counter>=a.follow){i(new ee(`maximum redirect reached at: ${a.url}`,"max-redirect")),y();return}let N={headers:new re(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:Bt(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!qo(a.url,q))for(let Z of["authorization","www-authenticate","cookie","cookie2"])N.headers.delete(Z);if(g.statusCode!==303&&a.body&&e.body instanceof le.default.Readable){i(new ee("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&a.method==="POST")&&(N.method="GET",N.body=void 0,N.headers.delete("content-length"));let fe=ru(A);fe&&(N.referrerPolicy=fe),n(Sr(new pt(q,N))),y();return}default:return i(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}d&&g.once("end",()=>{d.removeEventListener("abort",T)});let C=(0,le.pipeline)(g,new le.PassThrough,P=>{P&&i(P)});process.version<"v12.10"&&g.on("aborted",T);let O={url:a.url,status:g.statusCode,statusText:g.statusMessage,headers:A,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},W=A.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||W===null||g.statusCode===204||g.statusCode===304){m=new pe(C,O),n(m);return}let Q={flush:bt.default.Z_SYNC_FLUSH,finishFlush:bt.default.Z_SYNC_FLUSH};if(W==="gzip"||W==="x-gzip"){C=(0,le.pipeline)(C,bt.default.createGunzip(Q),P=>{P&&i(P)}),m=new pe(C,O),n(m);return}if(W==="deflate"||W==="x-deflate"){let P=(0,le.pipeline)(g,new le.PassThrough,q=>{q&&i(q)});P.once("data",q=>{(q[0]&15)===8?C=(0,le.pipeline)(C,bt.default.createInflate(),N=>{N&&i(N)}):C=(0,le.pipeline)(C,bt.default.createInflateRaw(),N=>{N&&i(N)}),m=new pe(C,O),n(m)}),P.once("end",()=>{m||(m=new pe(C,O),n(m))});return}if(W==="br"){C=(0,le.pipeline)(C,bt.default.createBrotliDecompress(),P=>{P&&i(P)}),m=new pe(C,O),n(m);return}m=new pe(C,O),n(m)}),Zo(w,a).catch(i)})}function od(r,e){let n=gr.Buffer.from(`0\r
\r
`),i=!1,a=!1,u;r.on("response",l=>{let{headers:f}=l;i=f["transfer-encoding"]==="chunked"&&!f["content-length"]}),r.on("socket",l=>{let f=()=>{if(i&&!a){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",e(m)}},d=m=>{a=gr.Buffer.compare(m.slice(-5),n)===0,!a&&u&&(a=gr.Buffer.compare(u.slice(-3),n.slice(0,3))===0&&gr.Buffer.compare(m.slice(-2),n.slice(3))===0),u=m};l.prependListener("close",f),l.on("data",d),r.on("close",()=>{l.removeListener("close",f),l.removeListener("data",d)})})}var ve=require("react"),qt=r=>{let e=()=>{let{username:d,password:m}=r,S=new re;return S.set("Authorization","Basic "+Buffer.from(`${d}:${m}`).toString("base64")),S},n=d=>{let{address:m,port:S}=r,T=e();return Sr(`http://${m}:${S}${d}`,{headers:T}).then(w=>w.json())};return{useNotes:d=>{let[m,S]=(0,ve.useState)(),[T,w]=(0,ve.useState)();return(0,ve.useEffect)(()=>{let y=new URLSearchParams({keyword:d,sort:"updatedAt",descending:"true"}).toString();n(`/notes?${y}`).then(S).catch(w)},[d]),{notes:m,isLoading:!m&&!T,error:T}},saveNote:d=>{let{address:m,port:S}=r,T=e();T.set("Content-Type","application/json");let w=JSON.stringify(d);return Sr(`http://${m}:${S}/notes`,{headers:T,method:"POST",body:w}).then(y=>y.json())},useBooks:()=>{let[d,m]=(0,ve.useState)(),[S,T]=(0,ve.useState)();return(0,ve.useEffect)(()=>{n("/books").then(w=>w.sort((y,g)=>y.name.toLowerCase()>g.name.toLowerCase()?1:-1)).then(m).catch(T)},[]),{books:d,isLoading:!d&&!S,error:S}},useTags:()=>{let[d,m]=(0,ve.useState)(),[S,T]=(0,ve.useState)();return(0,ve.useEffect)(()=>{n("/tags").then(m).catch(T)},[]),{tags:d,isLoading:!d&&!S,error:S}},useStatuses:()=>({statuses:[{_id:"none",name:"None"},{_id:"active",name:"Active"},{_id:"onHold",name:"On Hold"},{_id:"completed",name:"Completed"},{_id:"dropped",name:"Dropped"}],isLoading:!1,error:!1})}};var lu=require("react/jsx-runtime"),uu=({note:r})=>{let{useBooks:e}=qt((0,kn.getPreferenceValues)()),{books:n}=e(),i=n?.find(a=>a._id===r.bookId);return i!==void 0?(0,lu.jsx)(kn.List.Item.Detail.Metadata.Label,{title:"Notebook",text:i.name}):null};var An=require("@raycast/api");var fu=require("react/jsx-runtime"),cu=({note:r})=>{let{useTags:e}=qt((0,An.getPreferenceValues)()),{tags:n}=e(),i=r.tags.map(a=>n?.find(l=>l._id===a)?.name).join(", ");return i.length!==0?(0,fu.jsx)(An.List.Item.Detail.Metadata.Label,{title:"Tags",text:i}):null};var ce=require("react/jsx-runtime"),du=r=>{let e={year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"},n=hu.DateTime.fromMillis(r),i=n.toLocaleString(e);return`${n.toRelativeCalendar()} / ${i}`},ud=()=>{let[r,e]=(0,mu.useState)(""),{useNotes:n}=qt((0,j.getPreferenceValues)()),{notes:i,isLoading:a,error:u}=n(r);return u&&(0,j.showToast)({style:j.Toast.Style.Failure,title:"Cannot access Inkdrop",message:"Check configuration of this extension and Inkdrop app"}),(0,ce.jsxs)(j.List,{isShowingDetail:!0,isLoading:a,onSearchTextChange:e,children:[i?.map(l=>{let f=du(l.createdAt),d=du(l.updatedAt),m=l._id.replace(":","/");return(0,ce.jsx)(j.List.Item,{title:l.title,icon:j.Icon.Document,detail:(0,ce.jsx)(j.List.Item.Detail,{markdown:l.body,metadata:(0,ce.jsxs)(j.List.Item.Detail.Metadata,{children:[(0,ce.jsx)(j.List.Item.Detail.Metadata.Label,{title:"Created",text:f}),(0,ce.jsx)(j.List.Item.Detail.Metadata.Label,{title:"Updated",text:d}),(0,ce.jsx)(uu,{note:l}),(0,ce.jsx)(cu,{note:l})]})}),actions:(0,ce.jsx)(j.ActionPanel,{children:(0,ce.jsx)(j.Action.Open,{title:"Open in Inkdrop",target:`inkdrop://${m}`})})},l._id)}),(0,ce.jsx)(j.List.EmptyView,{title:"No notes found"})]})},ld=ud;
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
*/
